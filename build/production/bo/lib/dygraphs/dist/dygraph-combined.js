/*! @license Copyright 2015 Dan Vanderkam (danvdk@gmail.com) MIT-licensed (http://opensource.org/licenses/MIT) */
!function(d){for(var g,b,c={},f=function(){},j="memory".split(","),h="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");g=j.pop();){d[g]=d[g]||c}for(;b=h.pop();){d[b]=d[b]||f}}(this.console=this.console||{}),function(){CanvasRenderingContext2D.prototype.installPattern=function(d){if("undefined"!=typeof this.isPatternInstalled){throw"Must un-install old line pattern before installing a new one."}this.isPatternInstalled=!0;var g=[0,0],b=[],c=this.beginPath,f=this.lineTo,j=this.moveTo,h=this.stroke;this.uninstallPattern=function(){this.beginPath=c,this.lineTo=f,this.moveTo=j,this.stroke=h,this.uninstallPattern=void 0,this.isPatternInstalled=void 0},this.beginPath=function(){b=[],c.call(this)},this.moveTo=function(a,i){b.push([[a,i]]),j.call(this,a,i)},this.lineTo=function(k,l){var a=b[b.length-1];a.push([k,l])},this.stroke=function(){if(0===b.length){return void h.call(this)}for(var k=0;k<b.length;k++){for(var C=b[k],e=C[0][0],m=C[0][1],a=1;a<C.length;a++){var n=C[a][0],B=C[a][1];this.save();var q=n-e,r=B-m,t=Math.sqrt(q*q+r*r),A=Math.atan2(r,q);this.translate(e,m),j.call(this,0,0),this.rotate(A);for(var z=g[0],o=0;t>o;){var w=d[z];o+=g[1]?g[1]:w,o>t?(g=[z,o-t],o=t):g=[(z+1)%d.length,0],z%2===0?f.call(this,o,0):j.call(this,o,0),z=(z+1)%d.length}this.restore(),e=n,m=B}}h.call(this),b=[]}},CanvasRenderingContext2D.prototype.uninstallPattern=function(){throw"Must install a line pattern before uninstalling it."}}();var DygraphOptions=function(){return function(){var a=function(b){this.dygraph_=b,this.yAxes_=[],this.xAxis_={},this.series_={},this.global_=this.dygraph_.attrs_,this.user_=this.dygraph_.user_attrs_||{},this.labels_=[],this.highlightSeries_=this.get("highlightSeriesOpts")||{},this.reparseSeries()};a.AXIS_STRING_MAPPINGS_={y:0,Y:0,y1:0,Y1:0,y2:1,Y2:1},a.axisToIndex_=function(b){if("string"==typeof b){if(a.AXIS_STRING_MAPPINGS_.hasOwnProperty(b)){return a.AXIS_STRING_MAPPINGS_[b]}throw"Unknown axis : "+b}if("number"==typeof b){if(0===b||1===b){return b}throw"Dygraphs only supports two y-axes, indexed from 0-1."}if(b){throw"Unknown axis : "+b}return 0},a.prototype.reparseSeries=function(){var g=this.get("labels");if(g){this.labels_=g.slice(1),this.yAxes_=[{series:[],options:{}}],this.xAxis_={options:{}},this.series_={};for(var b=this.user_.series||{},c=0;c<this.labels_.length;c++){var f=this.labels_[c],j=b[f]||{},h=a.axisToIndex_(j.axis);this.series_[f]={idx:c,yAxis:h,options:j},this.yAxes_[h]?this.yAxes_[h].series.push(f):this.yAxes_[h]={series:[f],options:{}}}var d=this.user_.axes||{};Dygraph.update(this.yAxes_[0].options,d.y||{}),this.yAxes_.length>1&&Dygraph.update(this.yAxes_[1].options,d.y2||{}),Dygraph.update(this.xAxis_.options,d.x||{})}},a.prototype.get=function(b){var c=this.getGlobalUser_(b);return null!==c?c:this.getGlobalDefault_(b)},a.prototype.getGlobalUser_=function(b){return this.user_.hasOwnProperty(b)?this.user_[b]:null},a.prototype.getGlobalDefault_=function(b){return this.global_.hasOwnProperty(b)?this.global_[b]:Dygraph.DEFAULT_ATTRS.hasOwnProperty(b)?Dygraph.DEFAULT_ATTRS[b]:null},a.prototype.getForAxis=function(d,h){var b,c;if("number"==typeof h){b=h,c=0===b?"y":"y2"}else{if("y1"==h&&(h="y"),"y"==h){b=0}else{if("y2"==h){b=1}else{if("x"!=h){throw"Unknown axis "+h}b=-1}}c=h}var g=-1==b?this.xAxis_:this.yAxes_[b];if(g){var k=g.options;if(k.hasOwnProperty(d)){return k[d]}}if("x"!==h||"logscale"!==d){var j=this.getGlobalUser_(d);if(null!==j){return j}}var f=Dygraph.DEFAULT_ATTRS.axes[c];return f.hasOwnProperty(d)?f[d]:this.getGlobalDefault_(d)},a.prototype.getForSeries=function(d,f){if(f===this.dygraph_.getHighlightSeries()&&this.highlightSeries_.hasOwnProperty(d)){return this.highlightSeries_[d]}if(!this.series_.hasOwnProperty(f)){throw"Unknown series: "+f}var b=this.series_[f],c=b.options;return c.hasOwnProperty(d)?c[d]:this.getForAxis(d,b.yAxis)},a.prototype.numAxes=function(){return this.yAxes_.length},a.prototype.axisForSeries=function(b){return this.series_[b].yAxis},a.prototype.axisOptions=function(b){return this.yAxes_[b].options},a.prototype.seriesForAxis=function(b){return this.yAxes_[b].series},a.prototype.seriesNames=function(){return this.labels_};return a}()}(),DygraphLayout=function(){var a=function(b){this.dygraph_=b,this.points=[],this.setNames=[],this.annotations=[],this.yAxes_=null,this.xTicks_=null,this.yTicks_=null};return a.prototype.addDataset=function(b,c){this.points.push(c),this.setNames.push(b)},a.prototype.getPlotArea=function(){return this.area_},a.prototype.computePlotArea=function(){var b={x:0,y:0};b.w=this.dygraph_.width_-b.x-this.dygraph_.getOption("rightGap"),b.h=this.dygraph_.height_;var c={chart_div:this.dygraph_.graphDiv,reserveSpaceLeft:function(f){var d={x:b.x,y:b.y,w:f,h:b.h};return b.x+=f,b.w-=f,d},reserveSpaceRight:function(f){var d={x:b.x+b.w-f,y:b.y,w:f,h:b.h};return b.w-=f,d},reserveSpaceTop:function(f){var d={x:b.x,y:b.y,w:b.w,h:f};return b.y+=f,b.h-=f,d},reserveSpaceBottom:function(f){var d={x:b.x,y:b.y+b.h-f,w:b.w,h:f};return b.h-=f,d},chartRect:function(){return{x:b.x,y:b.y,w:b.w,h:b.h}}};this.dygraph_.cascadeEvents_("layout",c),this.area_=b},a.prototype.setAnnotations=function(d){this.annotations=[];for(var f=this.dygraph_.getOption("xValueParser")||function(e){return e},b=0;b<d.length;b++){var c={};if(!d[b].xval&&void 0===d[b].x){return void console.error("Annotations must have an 'x' property")}if(d[b].icon&&(!d[b].hasOwnProperty("width")||!d[b].hasOwnProperty("height"))){return void console.error("Must set width and height when setting annotation.icon property")}Dygraph.update(c,d[b]),c.xval||(c.xval=f(c.x)),this.annotations.push(c)}},a.prototype.setXTicks=function(b){this.xTicks_=b},a.prototype.setYAxes=function(b){this.yAxes_=b},a.prototype.evaluate=function(){this._xAxis={},this._evaluateLimits(),this._evaluateLineCharts(),this._evaluateLineTicks(),this._evaluateAnnotations()},a.prototype._evaluateLimits=function(){var d=this.dygraph_.xAxisRange();this._xAxis.minval=d[0],this._xAxis.maxval=d[1];var f=d[1]-d[0];this._xAxis.scale=0!==f?1/f:1,this.dygraph_.getOptionForAxis("logscale","x")&&(this._xAxis.xlogrange=Dygraph.log10(this._xAxis.maxval)-Dygraph.log10(this._xAxis.minval),this._xAxis.xlogscale=0!==this._xAxis.xlogrange?1/this._xAxis.xlogrange:1);for(var b=0;b<this.yAxes_.length;b++){var c=this.yAxes_[b];c.minyval=c.computedValueRange[0],c.maxyval=c.computedValueRange[1],c.yrange=c.maxyval-c.minyval,c.yscale=0!==c.yrange?1/c.yrange:1,this.dygraph_.getOption("logscale")&&(c.ylogrange=Dygraph.log10(c.maxyval)-Dygraph.log10(c.minyval),c.ylogscale=0!==c.ylogrange?1/c.ylogrange:1,(!isFinite(c.ylogrange)||isNaN(c.ylogrange))&&console.error("axis "+b+" of graph at "+c.g+" can't be displayed in log scale for range ["+c.minyval+" - "+c.maxyval+"]"))}},a.calcXNormal_=function(c,d,b){return b?(Dygraph.log10(c)-Dygraph.log10(d.minval))*d.xlogscale:(c-d.minval)*d.scale},a.calcYNormal_=function(d,f,b){if(b){var c=1-(Dygraph.log10(f)-Dygraph.log10(d.minyval))*d.ylogscale;return isFinite(c)?c:0/0}return 1-(f-d.minyval)*d.yscale},a.prototype._evaluateLineCharts=function(){for(var t=this.dygraph_.getOption("stackedGraph"),u=this.dygraph_.getOptionForAxis("logscale","x"),k=0;k<this.points.length;k++){for(var b=this.points[k],f=this.setNames[k],d=this.dygraph_.getOption("connectSeparatedPoints",f),v=this.dygraph_.axisPropertiesForSeries(f),j=this.dygraph_.attributes_.getForSeries("logscale",f),m=0;m<b.length;m++){var c=b[m];c.x=a.calcXNormal_(c.xval,this._xAxis,u);var q=c.yval;t&&(c.y_stacked=a.calcYNormal_(v,c.yval_stacked,j),null===q||isNaN(q)||(q=c.yval_stacked)),null===q&&(q=0/0,d||(c.yval=0/0)),c.y=a.calcYNormal_(v,q,j)}this.dygraph_.dataHandler_.onLineEvaluated(b,v,j)}},a.prototype._evaluateLineTicks=function(){var d,g,b,c;for(this.xticks=[],d=0;d<this.xTicks_.length;d++){g=this.xTicks_[d],b=g.label,c=this.dygraph_.toPercentXCoord(g.v),c>=0&&1>c&&this.xticks.push([c,b])}for(this.yticks=[],d=0;d<this.yAxes_.length;d++){for(var f=this.yAxes_[d],h=0;h<f.ticks.length;h++){g=f.ticks[h],b=g.label,c=this.dygraph_.toPercentYCoord(g.v,d),c>0&&1>=c&&this.yticks.push([d,c,b])}}},a.prototype._evaluateAnnotations=function(){var d,g={};for(d=0;d<this.annotations.length;d++){var b=this.annotations[d];g[b.xval+","+b.series]=b}if(this.annotated_points=[],this.annotations&&this.annotations.length){for(var c=0;c<this.points.length;c++){var f=this.points[c];for(d=0;d<f.length;d++){var j=f[d],h=j.xval+","+j.name;h in g&&(j.annotation=g[h],this.annotated_points.push(j))}}}},a.prototype.removeAllDatasets=function(){delete this.points,delete this.setNames,delete this.setPointsLengths,delete this.setPointsOffsets,this.points=[],this.setNames=[],this.setPointsLengths=[],this.setPointsOffsets=[]},a}(),DygraphCanvasRenderer=function(){var a=function(d,g,b,c){if(this.dygraph_=d,this.layout=c,this.element=g,this.elementContext=b,this.height=d.height_,this.width=d.width_,!Dygraph.isCanvasSupported(this.element)){throw"Canvas is not supported."}if(this.area=c.getPlotArea(),!Dygraph.isAndroid()){var f=this.dygraph_.canvas_ctx_;f.beginPath(),f.rect(this.area.x,this.area.y,this.area.w,this.area.h),f.clip(),f=this.dygraph_.hidden_ctx_,f.beginPath(),f.rect(this.area.x,this.area.y,this.area.w,this.area.h),f.clip()}};return a.prototype.clear=function(){this.elementContext.clearRect(0,0,this.width,this.height)},a.prototype.render=function(){this._updatePoints(),this._renderLineChart()},a._getIteratorPredicate=function(b){return b?a._predicateThatSkipsEmptyPoints:null},a._predicateThatSkipsEmptyPoints=function(b,c){return null!==b[c].yval},a._drawStyledLine=function(w,B,q,b,k,j,E){var m=w.dygraph,t=m.getBooleanOption("stepPlot",w.setName);Dygraph.isArrayLike(b)||(b=null);var f=m.getBooleanOption("drawGapEdgePoints",w.setName),v=w.points,D=w.setName,x=Dygraph.createIterator(v,0,v.length,a._getIteratorPredicate(m.getBooleanOption("connectSeparatedPoints",D))),z=b&&b.length>=2,A=w.drawingContext;A.save(),z&&A.installPattern(b);var C=a._drawSeries(w,x,q,E,k,f,t,B);a._drawPointsOnLine(w,C,j,B,E),z&&A.uninstallPattern(),A.restore()},a._drawSeries=function(w,K,N,G,A,D,C,z){var F,H,B=null,I=null,q=null,L=[],M=!0,b=w.drawingContext;b.beginPath(),b.strokeStyle=z,b.lineWidth=N;for(var O=K.array_,k=K.end_,J=K.predicate_,j=K.start_;k>j;j++){if(H=O[j],J){for(;k>j&&!J(O,j);){j++}if(j==k){break}H=O[j]}if(null===H.canvasy||H.canvasy!=H.canvasy){C&&null!==B&&(b.moveTo(B,I),b.lineTo(H.canvasx,I)),B=I=null}else{if(F=!1,D||!B){K.nextIdx_=j,K.next(),q=K.hasNext?K.peek.canvasy:null;var E=null===q||q!=q;F=!B&&E,D&&(!M&&!B||K.hasNext&&E)&&(F=!0)}null!==B?N&&(C&&(b.moveTo(B,I),b.lineTo(H.canvasx,I)),b.lineTo(H.canvasx,H.canvasy)):b.moveTo(H.canvasx,H.canvasy),(A||F)&&L.push([H.canvasx,H.canvasy,H.idx]),B=H.canvasx,I=H.canvasy}M=!1}return b.stroke(),L},a._drawPointsOnLine=function(d,h,b,c,g){for(var k=d.drawingContext,j=0;j<h.length;j++){var f=h[j];k.save(),b.call(d.dygraph,d.dygraph,d.setName,k,f[0],f[1],c,g,f[2]),k.restore()}},a.prototype._updatePoints=function(){for(var d=this.layout.points,g=d.length;g--;){for(var b=d[g],c=b.length;c--;){var f=b[c];f.canvasx=this.area.w*f.x+this.area.x,f.canvasy=this.area.h*f.y+this.area.y}}},a.prototype._renderLineChart=function(k,E){var H,B,q=E||this.elementContext,z=this.layout.points,x=this.layout.setNames;this.colors=this.dygraph_.colorsMap_;var m=this.dygraph_.getOption("plotter"),A=m;Dygraph.isArrayLike(A)||(A=[A]);var C={};for(H=0;H<x.length;H++){B=x[H];var w=this.dygraph_.getOption("plotter",B);w!=m&&(C[B]=w)}for(H=0;H<A.length;H++){for(var D=A[H],j=H==A.length-1,F=0;F<z.length;F++){if(B=x[F],!k||B==k){var G=z[F],b=D;if(B in C){if(!j){continue}b=C[B]}var I=this.colors[B],f=this.dygraph_.getOption("strokeWidth",B);q.save(),q.strokeStyle=I,q.lineWidth=f,b({points:G,setName:B,drawingContext:q,color:I,strokeWidth:f,dygraph:this.dygraph_,axis:this.dygraph_.axisPropertiesForSeries(B),plotArea:this.area,seriesIndex:F,seriesCount:z.length,singleSeriesName:k,allSeriesPoints:z}),q.restore()}}}},a._Plotters={linePlotter:function(b){a._linePlotter(b)},fillPlotter:function(b){a._fillPlotter(b)},errorPlotter:function(b){a._errorPlotter(b)}},a._linePlotter=function(k){var m=k.dygraph,g=k.setName,b=k.strokeWidth,d=m.getNumericOption("strokeBorderWidth",g),c=m.getOption("drawPointCallback",g)||Dygraph.Circles.DEFAULT,p=m.getOption("strokePattern",g),f=m.getBooleanOption("drawPoints",g),j=m.getNumericOption("pointSize",g);d&&b&&a._drawStyledLine(k,m.getOption("strokeBorderColor",g),b+2*d,p,f,c,j),a._drawStyledLine(k,k.color,b,p,f,c,j)},a._errorPlotter=function(G){var J=G.dygraph,C=G.setName,t=J.getBooleanOption("errorBars")||J.getBooleanOption("customBars");if(t){var A=J.getBooleanOption("fillGraph",C);A&&console.warn("Can't use fillGraph option with error bars");var z,q=G.drawingContext,B=G.color,D=J.getNumericOption("fillAlpha",C),w=J.getBooleanOption("stepPlot",C),E=G.points,m=Dygraph.createIterator(E,0,E.length,a._getIteratorPredicate(J.getBooleanOption("connectSeparatedPoints",C))),H=0/0,I=0/0,b=[-1,-1],K=Dygraph.toRGB_(B),k="rgba("+K.r+","+K.g+","+K.b+","+D+")";q.fillStyle=k,q.beginPath();for(var F=function(c){return null===c||void 0===c||isNaN(c)};m.hasNext;){var j=m.next();!w&&F(j.y)||w&&!isNaN(I)&&F(I)?H=0/0:(z=[j.y_bottom,j.y_top],w&&(I=j.y),isNaN(z[0])&&(z[0]=j.y),isNaN(z[1])&&(z[1]=j.y),z[0]=G.plotArea.h*z[0]+G.plotArea.y,z[1]=G.plotArea.h*z[1]+G.plotArea.y,isNaN(H)||(w?(q.moveTo(H,b[0]),q.lineTo(j.canvasx,b[0]),q.lineTo(j.canvasx,b[1])):(q.moveTo(H,b[0]),q.lineTo(j.canvasx,z[0]),q.lineTo(j.canvasx,z[1])),q.lineTo(H,b[1]),q.closePath()),b=z,H=j.canvasx)}q.fill()}},a._fastCanvasProxy=function(k){var h=[],j=null,g=1,b=2,d=0,c=function(z){if(!(h.length<=1)){for(var x=h.length-1;x>0;x--){var q=h[x];if(q[0]==b){var i=h[x-1];i[1]==q[1]&&i[2]==q[2]&&h.splice(x,1)}}for(var x=0;x<h.length-1;){var q=h[x];q[0]==b&&h[x+1][0]==b?h.splice(x,1):x++}if(h.length>2&&!z){var A=0;h[0][0]==b&&A++;for(var r=null,v=null,x=A;x<h.length;x++){var q=h[x];if(q[0]==g){if(null===r&&null===v){r=x,v=x}else{var e=q[2];e<h[r][2]?r=x:e>h[v][2]&&(v=x)}}}var w=h[r],y=h[v];h.splice(A,h.length-A),v>r?(h.push(w),h.push(y)):r>v?(h.push(y),h.push(w)):h.push(w)}}},m=function(i){c(i);for(var o=0,e=h.length;e>o;o++){var n=h[o];n[0]==g?k.lineTo(n[1],n[2]):n[0]==b&&k.moveTo(n[1],n[2])}d+=h.length,h=[]},f=function(l,e,o){var p=Math.round(e);(null===j||p!=j)&&(m(),j=p),h.push([l,e,o])};return{moveTo:function(i,l){f(b,i,l)},lineTo:function(i,l){f(g,i,l)},stroke:function(){m(!0),k.stroke()},fill:function(){m(!0),k.fill()},beginPath:function(){m(!0),k.beginPath()},closePath:function(){m(!0),k.closePath()},_count:function(){return d}}},a._fillPlotter=function(aj){if(!aj.singleSeriesName&&0===aj.seriesIndex){for(var an=aj.dygraph,af=an.getLabels().slice(1),Y=af.length;Y>=0;Y--){an.visibility()[Y]||af.splice(Y,1)}var ac=function(){for(var b=0;b<af.length;b++){if(an.getBooleanOption("fillGraph",af[b])){return !0}}return !1}();if(ac){for(var ab,W,ae=aj.plotArea,ag=aj.allSeriesPoints,aa=ag.length,ah=an.getNumericOption("fillAlpha"),Q=an.getBooleanOption("stackedGraph"),ak=an.getColors(),al={},H=function(d,g,b,c){if(d.lineTo(g,b),Q){for(var f=c.length-1;f>=0;f--){var h=c[f];d.lineTo(h[0],h[1])}}},ao=aa-1;ao>=0;ao--){var K=aj.drawingContext,ai=af[ao];if(an.getBooleanOption("fillGraph",ai)){var I=an.getBooleanOption("stepPlot",ai),ad=ak[ao],V=an.axisPropertiesForSeries(ai),Z=1+V.minyval*V.yscale;0>Z?Z=0:Z>1&&(Z=1),Z=ae.h*Z+ae.y;var am,J=ag[ao],j=Dygraph.createIterator(J,0,J.length,a._getIteratorPredicate(an.getBooleanOption("connectSeparatedPoints",ai))),U=0/0,X=[-1,-1],k=Dygraph.toRGB_(ad),G="rgba("+k.r+","+k.g+","+k.b+","+ah+")";K.fillStyle=G,K.beginPath();var t,z=!0;J.length>2*an.width_&&(K=a._fastCanvasProxy(K));for(var B,N=[];j.hasNext;){if(B=j.next(),Dygraph.isOK(B.y)||I){if(Q){if(!z&&t==B.xval){continue}z=!1,t=B.xval,ab=al[B.canvasx];var q;q=void 0===ab?Z:W?ab[0]:ab,am=[B.canvasy,q],al[B.canvasx]=I?-1===X[0]?[B.canvasy,Z]:[B.canvasy,X[0]]:B.canvasy}else{am=isNaN(B.canvasy)&&I?[ae.y+ae.h,Z]:[B.canvasy,Z]}isNaN(U)?(K.moveTo(B.canvasx,am[1]),K.lineTo(B.canvasx,am[0])):(I?(K.lineTo(B.canvasx,X[0]),K.lineTo(B.canvasx,am[0])):K.lineTo(B.canvasx,am[0]),Q&&(N.push([U,X[1]]),N.push(W&&ab?[B.canvasx,ab[1]]:[B.canvasx,am[1]]))),X=am,U=B.canvasx}else{H(K,U,X[1],N),N=[],U=0/0,null===B.y_stacked||isNaN(B.y_stacked)||(al[B.canvasx]=ae.h*B.y_stacked+ae.y)}}W=I,am&&B&&(H(K,B.canvasx,am[1],N),N=[]),K.fill()}}}}},a}(),Dygraph=function(){var a=function(d,f,b,c){this.is_initial_draw_=!0,this.readyFns_=[],void 0!==c?(console.warn("Using deprecated four-argument dygraph constructor"),this.__old_init__(d,f,b,c)):this.__init__(d,f,b)};return a.NAME="Dygraph",a.VERSION="1.1.0",a.__repr__=function(){return"["+a.NAME+" "+a.VERSION+"]"},a.toString=function(){return a.__repr__()},a.DEFAULT_ROLL_PERIOD=1,a.DEFAULT_WIDTH=480,a.DEFAULT_HEIGHT=320,a.ANIMATION_STEPS=12,a.ANIMATION_DURATION=200,a.KMB_LABELS=["K","M","B","T","Q"],a.KMG2_BIG_LABELS=["k","M","G","T","P","E","Z","Y"],a.KMG2_SMALL_LABELS=["m","u","n","p","f","a","z","y"],a.numberValueFormatter=function(w,B){var q=B("sigFigs");if(null!==q){return a.floatFormat(w,q)}var b,k=B("digitsAfterDecimal"),j=B("maxNumberWidth"),D=B("labelsKMB"),m=B("labelsKMG2");if(b=0!==w&&(Math.abs(w)>=Math.pow(10,j)||Math.abs(w)<Math.pow(10,-k))?w.toExponential(k):""+a.round_(w,k),D||m){var t,f=[],v=[];D&&(t=1000,f=a.KMB_LABELS),m&&(D&&console.warn("Setting both labelsKMB and labelsKMG2. Pick one!"),t=1024,f=a.KMG2_BIG_LABELS,v=a.KMG2_SMALL_LABELS);for(var C=Math.abs(w),x=a.pow(t,f.length),z=f.length-1;z>=0;z--,x/=t){if(C>=x){b=a.round_(w/x,k)+f[z];break}}if(m){var A=String(w.toExponential()).split("e-");2===A.length&&A[1]>=3&&A[1]<=24&&(b=A[1]%3>0?a.round_(A[0]/a.pow(10,A[1]%3),k):Number(A[0]).toFixed(2),b+=v[Math.floor(A[1]/3)-1])}}return b},a.numberAxisLabelFormatter=function(d,b,c){return a.numberValueFormatter.call(this,d,c)},a.SHORT_MONTH_NAMES_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a.dateAxisLabelFormatter=function(v,x,m){var b=m("labelsUTC"),j=b?a.DateAccessorsUTC:a.DateAccessorsLocal,f=j.getFullYear(v),z=j.getMonth(v),k=j.getDate(v),q=j.getHours(v),c=j.getMinutes(v),t=j.getSeconds(v),y=j.getSeconds(v);if(x>=a.DECADAL){return""+f}if(x>=a.MONTHLY){return a.SHORT_MONTH_NAMES_[z]+"&#160;"+f}var w=3600*q+60*c+t+0.001*y;return 0===w||x>=a.DAILY?a.zeropad(k)+"&#160;"+a.SHORT_MONTH_NAMES_[z]:a.hmsString_(q,c,t)},a.dateAxisFormatter=a.dateAxisLabelFormatter,a.dateValueFormatter=function(c,b){return a.dateString_(c,b("labelsUTC"))},a.Plotters=DygraphCanvasRenderer._Plotters,a.DEFAULT_ATTRS={highlightCircleSize:3,highlightSeriesOpts:null,highlightSeriesBackgroundAlpha:0.5,labelsDivWidth:250,labelsDivStyles:{},labelsSeparateLines:!1,labelsShowZeroValues:!0,labelsKMB:!1,labelsKMG2:!1,showLabelsOnHighlight:!0,digitsAfterDecimal:2,maxNumberWidth:6,sigFigs:null,strokeWidth:1,strokeBorderWidth:0,strokeBorderColor:"white",axisTickSize:3,axisLabelFontSize:14,rightGap:5,showRoller:!1,xValueParser:a.dateParser,delimiter:",",sigma:2,errorBars:!1,fractions:!1,wilsonInterval:!0,customBars:!1,fillGraph:!1,fillAlpha:0.15,connectSeparatedPoints:!1,stackedGraph:!1,stackedGraphNaNFill:"all",hideOverlayOnMouseOut:!0,legend:"onmouseover",stepPlot:!1,avoidMinZero:!1,xRangePad:0,yRangePad:null,drawAxesAtZero:!1,titleHeight:28,xLabelHeight:18,yLabelWidth:18,axisLineColor:"black",axisLineWidth:0.3,gridLineWidth:0.3,axisLabelColor:"black",axisLabelWidth:50,gridLineColor:"rgb(128,128,128)",interactionModel:null,animatedZooms:!1,showRangeSelector:!1,rangeSelectorHeight:40,rangeSelectorPlotStrokeColor:"#808FAB",rangeSelectorPlotFillGradientColor:"white",rangeSelectorPlotFillColor:"#A7B1C4",rangeSelectorBackgroundStrokeColor:"gray",rangeSelectorBackgroundLineWidth:1,rangeSelectorPlotLineWidth:1.5,rangeSelectorForegroundStrokeColor:"black",rangeSelectorForegroundLineWidth:1,rangeSelectorAlpha:0.6,showInRangeSelector:null,plotter:[a.Plotters.fillPlotter,a.Plotters.errorPlotter,a.Plotters.linePlotter],plugins:[],axes:{x:{pixelsPerLabel:70,axisLabelWidth:60,axisLabelFormatter:a.dateAxisLabelFormatter,valueFormatter:a.dateValueFormatter,drawGrid:!0,drawAxis:!0,independentTicks:!0,ticker:null},y:{axisLabelWidth:50,pixelsPerLabel:30,valueFormatter:a.numberValueFormatter,axisLabelFormatter:a.numberAxisLabelFormatter,drawGrid:!0,drawAxis:!0,independentTicks:!0,ticker:null},y2:{axisLabelWidth:50,pixelsPerLabel:30,valueFormatter:a.numberValueFormatter,axisLabelFormatter:a.numberAxisLabelFormatter,drawAxis:!0,drawGrid:!1,independentTicks:!1,ticker:null}}},a.HORIZONTAL=1,a.VERTICAL=2,a.PLUGINS=[],a.addedAnnotationCSS=!1,a.prototype.__old_init__=function(f,b,c,d){if(null!==c){for(var h=["Date"],g=0;g<c.length;g++){h.push(c[g])}a.update(d,{labels:h})}this.__init__(f,b,d)},a.prototype.__init__=function(v,x,m){if((null===m||void 0===m)&&(m={}),m=a.copyUserAttrs_(m),"string"==typeof v&&(v=document.getElementById(v)),!v){return void console.error("Constructing dygraph with a non-existent div!")}this.maindiv_=v,this.file_=x,this.rollPeriod_=m.rollPeriod||a.DEFAULT_ROLL_PERIOD,this.previousVerticalX_=-1,this.fractions_=m.fractions||!1,this.dateWindow_=m.dateWindow||null,this.annotations_=[],this.zoomed_x_=!1,this.zoomed_y_=!1,v.innerHTML="",""===v.style.width&&m.width&&(v.style.width=m.width+"px"),""===v.style.height&&m.height&&(v.style.height=m.height+"px"),""===v.style.height&&0===v.clientHeight&&(v.style.height=a.DEFAULT_HEIGHT+"px",""===v.style.width&&(v.style.width=a.DEFAULT_WIDTH+"px")),this.width_=v.clientWidth||m.width||0,this.height_=v.clientHeight||m.height||0,m.stackedGraph&&(m.fillGraph=!0),this.user_attrs_={},a.update(this.user_attrs_,m),this.attrs_={},a.updateDeep(this.attrs_,a.DEFAULT_ATTRS),this.boundaryIds_=[],this.setIndexByName_={},this.datasetIndex_=[],this.registeredEvents_=[],this.eventListeners_={},this.attributes_=new DygraphOptions(this),this.createInterface_(),this.plugins_=[];for(var b=a.PLUGINS.concat(this.getOption("plugins")),j=0;j<b.length;j++){var f,z=b[j];f="undefined"!=typeof z.activate?z:new z;var k={plugin:f,events:{},options:{},pluginOptions:{}},q=f.activate(this);for(var c in q){q.hasOwnProperty(c)&&(k.events[c]=q[c])}this.plugins_.push(k)}for(var j=0;j<this.plugins_.length;j++){var t=this.plugins_[j];for(var c in t.events){if(t.events.hasOwnProperty(c)){var y=t.events[c],w=[t.plugin,y];c in this.eventListeners_?this.eventListeners_[c].push(w):this.eventListeners_[c]=[w]}}}this.createDragInterface_(),this.start_()},a.prototype.cascadeEvents_=function(g,b){if(!(g in this.eventListeners_)){return !1}var c={dygraph:this,cancelable:!1,defaultPrevented:!1,preventDefault:function(){if(!c.cancelable){throw"Cannot call preventDefault on non-cancelable event."}c.defaultPrevented=!0},propagationStopped:!1,stopPropagation:function(){c.propagationStopped=!0}};a.update(c,b);var f=this.eventListeners_[g];if(f){for(var j=f.length-1;j>=0;j--){var h=f[j][0],d=f[j][1];if(d.call(h,c),c.propagationStopped){break}}}return c.defaultPrevented},a.prototype.getPluginInstance_=function(c){for(var d=0;d<this.plugins_.length;d++){var b=this.plugins_[d];if(b.plugin instanceof c){return b.plugin}}return null},a.prototype.isZoomed=function(b){if(null===b||void 0===b){return this.zoomed_x_||this.zoomed_y_}if("x"===b){return this.zoomed_x_}if("y"===b){return this.zoomed_y_}throw"axis parameter is ["+b+"] must be null, 'x' or 'y'."},a.prototype.toString=function(){var b=this.maindiv_,c=b&&b.id?b.id:b;return"[Dygraph "+c+"]"},a.prototype.attr_=function(b,c){return c?this.attributes_.getForSeries(b,c):this.attributes_.get(b)},a.prototype.getOption=function(b,c){return this.attr_(b,c)},a.prototype.getNumericOption=function(b,c){return this.getOption(b,c)},a.prototype.getStringOption=function(b,c){return this.getOption(b,c)},a.prototype.getBooleanOption=function(b,c){return this.getOption(b,c)},a.prototype.getFunctionOption=function(b,c){return this.getOption(b,c)},a.prototype.getOptionForAxis=function(b,c){return this.attributes_.getForAxis(b,c)},a.prototype.optionsViewForAxis_=function(b){var c=this;return function(d){var e=c.user_attrs_.axes;return e&&e[b]&&e[b].hasOwnProperty(d)?e[b][d]:"x"===b&&"logscale"===d?!1:"undefined"!=typeof c.user_attrs_[d]?c.user_attrs_[d]:(e=c.attrs_.axes,e&&e[b]&&e[b].hasOwnProperty(d)?e[b][d]:"y"==b&&c.axes_[0].hasOwnProperty(d)?c.axes_[0][d]:"y2"==b&&c.axes_[1].hasOwnProperty(d)?c.axes_[1][d]:c.attr_(d))}},a.prototype.rollPeriod=function(){return this.rollPeriod_},a.prototype.xAxisRange=function(){return this.dateWindow_?this.dateWindow_:this.xAxisExtremes()},a.prototype.xAxisExtremes=function(){var d=this.getNumericOption("xRangePad")/this.plotter_.area.w;if(0===this.numRows()){return[0-d,1+d]}var f=this.rawData_[0][0],b=this.rawData_[this.rawData_.length-1][0];if(d){var c=b-f;f-=c*d,b+=c*d}return[f,b]},a.prototype.yAxisRange=function(b){if("undefined"==typeof b&&(b=0),0>b||b>=this.axes_.length){return null}var c=this.axes_[b];return[c.computedValueRange[0],c.computedValueRange[1]]},a.prototype.yAxisRanges=function(){for(var b=[],c=0;c<this.axes_.length;c++){b.push(this.yAxisRange(c))}return b},a.prototype.toDomCoords=function(c,d,b){return[this.toDomXCoord(c),this.toDomYCoord(d,b)]},a.prototype.toDomXCoord=function(c){if(null===c){return null}var d=this.plotter_.area,b=this.xAxisRange();return d.x+(c-b[0])/(b[1]-b[0])*d.w},a.prototype.toDomYCoord=function(d,f){var b=this.toPercentYCoord(d,f);if(null===b){return null}var c=this.plotter_.area;return c.y+b*c.h},a.prototype.toDataCoords=function(c,d,b){return[this.toDataXCoord(c),this.toDataYCoord(d,b)]},a.prototype.toDataXCoord=function(h){if(null===h){return null}var c=this.plotter_.area,d=this.xAxisRange();if(this.attributes_.getForAxis("logscale","x")){var g=(h-c.x)/c.w,k=a.log10(d[0]),j=a.log10(d[1]),f=k+g*(j-k),b=Math.pow(a.LOG_SCALE,f);return b}return d[0]+(h-c.x)/c.w*(d[1]-d[0])},a.prototype.toDataYCoord=function(k,m){if(null===k){return null}var g=this.plotter_.area,b=this.yAxisRange(m);if("undefined"==typeof m&&(m=0),this.attributes_.getForAxis("logscale",m)){var d=(k-g.y)/g.h,c=a.log10(b[0]),p=a.log10(b[1]),f=p-d*(p-c),j=Math.pow(a.LOG_SCALE,f);return j}return b[0]+(g.y+g.h-k)/g.h*(b[1]-b[0])},a.prototype.toPercentYCoord=function(g,b){if(null===g){return null}"undefined"==typeof b&&(b=0);var c,f=this.yAxisRange(b),j=this.attributes_.getForAxis("logscale",b);if(j){var h=a.log10(f[0]),d=a.log10(f[1]);c=(d-a.log10(g))/(d-h)}else{c=(f[1]-g)/(f[1]-f[0])}return c},a.prototype.toPercentXCoord=function(f){if(null===f){return null}var b,c=this.xAxisRange(),d=this.attributes_.getForAxis("logscale","x");if(d===!0){var h=a.log10(c[0]),g=a.log10(c[1]);b=(a.log10(f)-h)/(g-h)}else{b=(f-c[0])/(c[1]-c[0])}return b},a.prototype.numColumns=function(){return this.rawData_?this.rawData_[0]?this.rawData_[0].length:this.attr_("labels").length:0},a.prototype.numRows=function(){return this.rawData_?this.rawData_.length:0},a.prototype.getValue=function(b,c){return 0>b||b>this.rawData_.length?null:0>c||c>this.rawData_[b].length?null:this.rawData_[b][c]},a.prototype.createInterface_=function(){var c=this.maindiv_;this.graphDiv=document.createElement("div"),this.graphDiv.style.textAlign="left",this.graphDiv.style.position="relative",c.appendChild(this.graphDiv),this.canvas_=a.createCanvas(),this.canvas_.style.position="absolute",this.hidden_=this.createPlotKitCanvas_(this.canvas_),this.canvas_ctx_=a.getContext(this.canvas_),this.hidden_ctx_=a.getContext(this.hidden_),this.resizeElements_(),this.graphDiv.appendChild(this.hidden_),this.graphDiv.appendChild(this.canvas_),this.mouseEventElement_=this.createMouseEventElement_(),this.layout_=new DygraphLayout(this);var b=this;this.mouseMoveHandler_=function(d){b.mouseMove_(d)},this.mouseOutHandler_=function(g){var d=g.target||g.fromElement,f=g.relatedTarget||g.toElement;a.isNodeContainedBy(d,b.graphDiv)&&!a.isNodeContainedBy(f,b.graphDiv)&&b.mouseOut_(g)},this.addAndTrackEvent(window,"mouseout",this.mouseOutHandler_),this.addAndTrackEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_),this.resizeHandler_||(this.resizeHandler_=function(){b.resize()},this.addAndTrackEvent(window,"resize",this.resizeHandler_))},a.prototype.resizeElements_=function(){this.graphDiv.style.width=this.width_+"px",this.graphDiv.style.height=this.height_+"px";var c=a.getContextPixelRatio(this.canvas_ctx_);this.canvas_.width=this.width_*c,this.canvas_.height=this.height_*c,this.canvas_.style.width=this.width_+"px",this.canvas_.style.height=this.height_+"px",1!==c&&this.canvas_ctx_.scale(c,c);var b=a.getContextPixelRatio(this.hidden_ctx_);this.hidden_.width=this.width_*b,this.hidden_.height=this.height_*b,this.hidden_.style.width=this.width_+"px",this.hidden_.style.height=this.height_+"px",1!==b&&this.hidden_ctx_.scale(b,b)},a.prototype.destroy=function(){this.canvas_ctx_.restore(),this.hidden_ctx_.restore();for(var f=this.plugins_.length-1;f>=0;f--){var b=this.plugins_.pop();b.plugin.destroy&&b.plugin.destroy()}var c=function(e){for(;e.hasChildNodes();){c(e.firstChild),e.removeChild(e.firstChild)}};this.removeTrackedEvents_(),a.removeEvent(window,"mouseout",this.mouseOutHandler_),a.removeEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_),a.removeEvent(window,"resize",this.resizeHandler_),this.resizeHandler_=null,c(this.maindiv_);var d=function(g){for(var h in g){"object"==typeof g[h]&&(g[h]=null)}};d(this.layout_),d(this.plotter_),d(this)},a.prototype.createPlotKitCanvas_=function(c){var b=a.createCanvas();return b.style.position="absolute",b.style.top=c.style.top,b.style.left=c.style.left,b.width=this.width_,b.height=this.height_,b.style.width=this.width_+"px",b.style.height=this.height_+"px",b},a.prototype.createMouseEventElement_=function(){return this.canvas_},a.prototype.setColors_=function(){var t=this.getLabels(),v=t.length-1;this.colors_=[],this.colorsMap_={};for(var k=this.getNumericOption("colorSaturation")||1,b=this.getNumericOption("colorValue")||0.5,f=Math.ceil(v/2),d=this.getOption("colors"),x=this.visibility(),j=0;v>j;j++){if(x[j]){var m=t[j+1],c=this.attributes_.getForSeries("color",m);if(!c){if(d){c=d[j%d.length]}else{var q=j%2?f+(j+1)/2:Math.ceil((j+1)/2),w=1*q/(1+v);c=a.hsvToRGB(w,k,b)}}this.colors_.push(c),this.colorsMap_[m]=c}}},a.prototype.getColors=function(){return this.colors_},a.prototype.getPropertiesForSeries=function(d){for(var f=-1,b=this.getLabels(),c=1;c<b.length;c++){if(b[c]==d){f=c;break}}return -1==f?null:{name:d,column:f,visible:this.visibility()[f-1],color:this.colorsMap_[d],axis:1+this.attributes_.axisForSeries(d)}},a.prototype.createRollInterface_=function(){this.roller_||(this.roller_=document.createElement("input"),this.roller_.type="text",this.roller_.style.display="none",this.graphDiv.appendChild(this.roller_));var d=this.getBooleanOption("showRoller")?"block":"none",g=this.plotter_.area,b={position:"absolute",zIndex:10,top:g.y+g.h-25+"px",left:g.x+1+"px",display:d};this.roller_.size="2",this.roller_.value=this.rollPeriod_;for(var c in b){b.hasOwnProperty(c)&&(this.roller_.style[c]=b[c])}var f=this;this.roller_.onchange=function(){f.adjustRoll(f.roller_.value)}},a.prototype.createDragInterface_=function(){var f={isZooming:!1,isPanning:!1,is2DPan:!1,dragStartX:null,dragStartY:null,dragEndX:null,dragEndY:null,dragDirection:null,prevEndX:null,prevEndY:null,prevDragDirection:null,cancelNextDblclick:!1,initialLeftmostDate:null,xUnitsPerPixel:null,dateRange:null,px:0,py:0,boundedDates:null,boundedValues:null,tarp:new a.IFrameTarp,initializeMouseDown:function(m,j,k){m.preventDefault?m.preventDefault():(m.returnValue=!1,m.cancelBubble=!0);var l=a.findPos(j.canvas_);k.px=l.x,k.py=l.y,k.dragStartX=a.dragGetX_(m,k),k.dragStartY=a.dragGetY_(m,k),k.cancelNextDblclick=!1,k.tarp.cover()},destroy:function(){var i=this;if((i.isZooming||i.isPanning)&&(i.isZooming=!1,i.dragStartX=null,i.dragStartY=null),i.isPanning){i.isPanning=!1,i.draggingDate=null,i.dateRange=null;for(var j=0;j<c.axes_.length;j++){delete c.axes_[j].draggingValue,delete c.axes_[j].dragValueRange}}i.tarp.uncover()}},b=this.getOption("interactionModel"),c=this,d=function(e){return function(i){e(i,c,f)}};for(var h in b){b.hasOwnProperty(h)&&this.addAndTrackEvent(this.mouseEventElement_,h,d(b[h]))}if(!b.willDestroyContextMyself){var g=function(){f.destroy()};this.addAndTrackEvent(document,"mouseup",g)}},a.prototype.drawZoomRect_=function(k,m,g,b,d,c,p,f){var j=this.canvas_ctx_;c==a.HORIZONTAL?j.clearRect(Math.min(m,p),this.layout_.getPlotArea().y,Math.abs(m-p),this.layout_.getPlotArea().h):c==a.VERTICAL&&j.clearRect(this.layout_.getPlotArea().x,Math.min(b,f),this.layout_.getPlotArea().w,Math.abs(b-f)),k==a.HORIZONTAL?g&&m&&(j.fillStyle="rgba(128,128,128,0.33)",j.fillRect(Math.min(m,g),this.layout_.getPlotArea().y,Math.abs(g-m),this.layout_.getPlotArea().h)):k==a.VERTICAL&&d&&b&&(j.fillStyle="rgba(128,128,128,0.33)",j.fillRect(this.layout_.getPlotArea().x,Math.min(b,d),this.layout_.getPlotArea().w,Math.abs(d-b)))},a.prototype.clearZoomRect_=function(){this.currentZoomRectArgs_=null,this.canvas_ctx_.clearRect(0,0,this.width_,this.height_)},a.prototype.doZoomX_=function(d,f){this.currentZoomRectArgs_=null;var b=this.toDataXCoord(d),c=this.toDataXCoord(f);this.doZoomXDates_(b,c)},a.prototype.doZoomXDates_=function(d,g){var b=this.xAxisRange(),c=[d,g];this.zoomed_x_=!0;var f=this;this.doAnimatedZoom(b,c,null,null,function(){f.getFunctionOption("zoomCallback")&&f.getFunctionOption("zoomCallback").call(f,d,g,f.yAxisRanges())})},a.prototype.doZoomY_=function(d,h){this.currentZoomRectArgs_=null;for(var b=this.yAxisRanges(),c=[],g=0;g<this.axes_.length;g++){var k=this.toDataYCoord(d,g),j=this.toDataYCoord(h,g);c.push([j,k])}this.zoomed_y_=!0;var f=this;this.doAnimatedZoom(null,null,b,c,function(){if(f.getFunctionOption("zoomCallback")){var e=f.xAxisRange();f.getFunctionOption("zoomCallback").call(f,e[0],e[1],f.yAxisRanges())}})},a.zoomAnimationFunction=function(c,d){var b=1.5;return(1-Math.pow(b,-c))/(1-Math.pow(b,-d))},a.prototype.resetZoom=function(){var A=!1,w=!1,y=!1;null!==this.dateWindow_&&(A=!0,w=!0);for(var m=0;m<this.axes_.length;m++){"undefined"!=typeof this.axes_[m].valueWindow&&null!==this.axes_[m].valueWindow&&(A=!0,y=!0)}if(this.clearSelection(),A){this.zoomed_x_=!1,this.zoomed_y_=!1;var b=this.rawData_[0][0],j=this.rawData_[this.rawData_.length-1][0];if(!this.getBooleanOption("animatedZooms")){for(this.dateWindow_=null,m=0;m<this.axes_.length;m++){null!==this.axes_[m].valueWindow&&delete this.axes_[m].valueWindow}return this.drawGraph_(),void (this.getFunctionOption("zoomCallback")&&this.getFunctionOption("zoomCallback").call(this,b,j,this.yAxisRanges()))}var f=null,B=null,k=null,q=null;if(w&&(f=this.xAxisRange(),B=[b,j]),y){k=this.yAxisRanges();var c=this.gatherDatasets_(this.rolledSeries_,null),v=c.extremes;for(this.computeYAxisRanges_(v),q=[],m=0;m<this.axes_.length;m++){var z=this.axes_[m];q.push(null!==z.valueRange&&void 0!==z.valueRange?z.valueRange:z.extremeRange)}}var x=this;this.doAnimatedZoom(f,B,k,q,function(){x.dateWindow_=null;for(var d=0;d<x.axes_.length;d++){null!==x.axes_[d].valueWindow&&delete x.axes_[d].valueWindow}x.getFunctionOption("zoomCallback")&&x.getFunctionOption("zoomCallback").call(x,b,j,x.yAxisRanges())})}},a.prototype.doAnimatedZoom=function(v,x,m,b,j){var f,z,k=this.getBooleanOption("animatedZooms")?a.ANIMATION_STEPS:1,q=[],c=[];if(null!==v&&null!==x){for(f=1;k>=f;f++){z=a.zoomAnimationFunction(f,k),q[f-1]=[v[0]*(1-z)+z*x[0],v[1]*(1-z)+z*x[1]]}}if(null!==m&&null!==b){for(f=1;k>=f;f++){z=a.zoomAnimationFunction(f,k);for(var t=[],y=0;y<this.axes_.length;y++){t.push([m[y][0]*(1-z)+z*b[y][0],m[y][1]*(1-z)+z*b[y][1]])}c[f-1]=t}}var w=this;a.repeatAndCleanup(function(g){if(c.length){for(var h=0;h<w.axes_.length;h++){var d=c[g][h];w.axes_[h].valueWindow=[d[0],d[1]]}}q.length&&(w.dateWindow_=q[g]),w.drawGraph_()},k,a.ANIMATION_DURATION/k,j)},a.prototype.getArea=function(){return this.plotter_.area},a.prototype.eventToDomCoords=function(f){if(f.offsetX&&f.offsetY){return[f.offsetX,f.offsetY]}var b=a.findPos(this.mouseEventElement_),c=a.pageX(f)-b.x,d=a.pageY(f)-b.y;return[c,d]},a.prototype.findClosestRow=function(m){for(var q=1/0,j=-1,b=this.layout_.points,f=0;f<b.length;f++){for(var d=b[f],t=d.length,g=0;t>g;g++){var k=d[g];if(a.isValidPoint(k,!0)){var c=Math.abs(k.canvasx-m);q>c&&(q=c,j=k.idx)}}}return j},a.prototype.findClosestPoint=function(w,z){for(var q,b,k,j,B,m,t,f=1/0,v=this.layout_.points.length-1;v>=0;--v){for(var A=this.layout_.points[v],x=0;x<A.length;++x){j=A[x],a.isValidPoint(j)&&(b=j.canvasx-w,k=j.canvasy-z,q=b*b+k*k,f>q&&(f=q,B=j,m=v,t=j.idx))}}var y=this.layout_.setNames[m];return{row:t,seriesName:y,point:B}},a.prototype.findStackedPoint=function(w,B){for(var q,b,k=this.findClosestRow(w),j=0;j<this.layout_.points.length;++j){var E=this.getLeftBoundary_(j),m=k-E,t=this.layout_.points[j];if(!(m>=t.length)){var f=t[m];if(a.isValidPoint(f)){var v=f.canvasy;if(w>f.canvasx&&m+1<t.length){var D=t[m+1];if(a.isValidPoint(D)){var x=D.canvasx-f.canvasx;if(x>0){var z=(w-f.canvasx)/x;v+=z*(D.canvasy-f.canvasy)}}}else{if(w<f.canvasx&&m>0){var A=t[m-1];if(a.isValidPoint(A)){var x=f.canvasx-A.canvasx;if(x>0){var z=(f.canvasx-w)/x;v+=z*(A.canvasy-f.canvasy)}}}}(0===j||B>v)&&(q=f,b=j)}}}var C=this.layout_.setNames[b];return{row:k,seriesName:C,point:q}},a.prototype.mouseMove_=function(p){var k=this.layout_.points;if(void 0!==k&&null!==k){var m=this.eventToDomCoords(p),g=m[0],b=m[1],d=this.getOption("highlightSeriesOpts"),c=!1;if(d&&!this.isSeriesLocked()){var q;q=this.getBooleanOption("stackedGraph")?this.findStackedPoint(g,b):this.findClosestPoint(g,b),c=this.setSelection(q.row,q.seriesName)}else{var f=this.findClosestRow(g);c=this.setSelection(f)}var j=this.getFunctionOption("highlightCallback");j&&c&&j.call(this,p,this.lastx_,this.selPoints_,this.lastRow_,this.highlightSet_)}},a.prototype.getLeftBoundary_=function(b){if(this.boundaryIds_[b]){return this.boundaryIds_[b][0]}for(var c=0;c<this.boundaryIds_.length;c++){if(void 0!==this.boundaryIds_[c]){return this.boundaryIds_[c][0]}}return 0},a.prototype.animateSelection_=function(h){var c=10,d=30;void 0===this.fadeLevel&&(this.fadeLevel=0),void 0===this.animateId&&(this.animateId=0);var g=this.fadeLevel,k=0>h?g:c-g;if(0>=k){return void (this.fadeLevel&&this.updateSelection_(1))}var j=++this.animateId,f=this,b=function(){0!==f.fadeLevel&&0>h&&(f.fadeLevel=0,f.clearSelection())};a.repeatAndCleanup(function(){f.animateId==j&&(f.fadeLevel+=h,0===f.fadeLevel?f.clearSelection():f.updateSelection_(f.fadeLevel/c))},k,d,b)},a.prototype.updateSelection_=function(w){this.cascadeEvents_("select",{selectedRow:this.lastRow_,selectedX:this.lastx_,selectedPoints:this.selPoints_});var z,q=this.canvas_ctx_;if(this.getOption("highlightSeriesOpts")){q.clearRect(0,0,this.width_,this.height_);var b=1-this.getNumericOption("highlightSeriesBackgroundAlpha");if(b){var k=!0;if(k){if(void 0===w){return void this.animateSelection_(1)}b*=w}q.fillStyle="rgba(255,255,255,"+b+")",q.fillRect(0,0,this.width_,this.height_)}this.plotter_._renderLineChart(this.highlightSet_,q)}else{if(this.previousVerticalX_>=0){var j=0,B=this.attr_("labels");for(z=1;z<B.length;z++){var m=this.getNumericOption("highlightCircleSize",B[z]);m>j&&(j=m)}var t=this.previousVerticalX_;q.clearRect(t-j-1,0,2*j+2,this.height_)}}if(this.selPoints_.length>0){var f=this.selPoints_[0].canvasx;for(q.save(),z=0;z<this.selPoints_.length;z++){var v=this.selPoints_[z];if(a.isOK(v.canvasy)){var A=this.getNumericOption("highlightCircleSize",v.name),x=this.getFunctionOption("drawHighlightPointCallback",v.name),y=this.plotter_.colors[v.name];x||(x=a.Circles.DEFAULT),q.lineWidth=this.getNumericOption("strokeWidth",v.name),q.strokeStyle=y,q.fillStyle=y,x.call(this,this,v.name,q,f,v.canvasy,y,A,v.idx)}}q.restore(),this.previousVerticalX_=f}},a.prototype.setSelection=function(k,h,j){this.selPoints_=[];var g=!1;if(k!==!1&&k>=0){k!=this.lastRow_&&(g=!0),this.lastRow_=k;for(var b=0;b<this.layout_.points.length;++b){var d=this.layout_.points[b],c=k-this.getLeftBoundary_(b);if(c<d.length&&d[c].idx==k){var m=d[c];null!==m.yval&&this.selPoints_.push(m)}else{for(var f=0;f<d.length;++f){var m=d[f];if(m.idx==k){null!==m.yval&&this.selPoints_.push(m);break}}}}}else{this.lastRow_>=0&&(g=!0),this.lastRow_=-1}return this.lastx_=this.selPoints_.length?this.selPoints_[0].xval:-1,void 0!==h&&(this.highlightSet_!==h&&(g=!0),this.highlightSet_=h),void 0!==j&&(this.lockedSet_=j),g&&this.updateSelection_(void 0),g},a.prototype.mouseOut_=function(b){this.getFunctionOption("unhighlightCallback")&&this.getFunctionOption("unhighlightCallback").call(this,b),this.getBooleanOption("hideOverlayOnMouseOut")&&!this.lockedSet_&&this.clearSelection()},a.prototype.clearSelection=function(){return this.cascadeEvents_("deselect",{}),this.lockedSet_=!1,this.fadeLevel?void this.animateSelection_(-1):(this.canvas_ctx_.clearRect(0,0,this.width_,this.height_),this.fadeLevel=0,this.selPoints_=[],this.lastx_=-1,this.lastRow_=-1,void (this.highlightSet_=null))},a.prototype.getSelection=function(){if(!this.selPoints_||this.selPoints_.length<1){return -1}for(var c=0;c<this.layout_.points.length;c++){for(var d=this.layout_.points[c],b=0;b<d.length;b++){if(d[b].x==this.selPoints_[0].x){return d[b].idx}}}return -1},a.prototype.getHighlightSeries=function(){return this.highlightSet_},a.prototype.isSeriesLocked=function(){return this.lockedSet_},a.prototype.loadedEvent_=function(b){this.rawData_=this.parseCSV_(b),this.cascadeDataDidUpdateEvent_(),this.predraw_()},a.prototype.addXTicks_=function(){var c;c=this.dateWindow_?[this.dateWindow_[0],this.dateWindow_[1]]:this.xAxisExtremes();var d=this.optionsViewForAxis_("x"),b=d("ticker")(c[0],c[1],this.plotter_.area.w,d,this);this.layout_.setXTicks(b)},a.prototype.getHandlerClass_=function(){var b;return b=this.attr_("dataHandler")?this.attr_("dataHandler"):this.fractions_?this.getBooleanOption("errorBars")?a.DataHandlers.FractionsBarsHandler:a.DataHandlers.DefaultFractionHandler:this.getBooleanOption("customBars")?a.DataHandlers.CustomBarsHandler:this.getBooleanOption("errorBars")?a.DataHandlers.ErrorBarsHandler:a.DataHandlers.DefaultHandler},a.prototype.predraw_=function(){var d=new Date;this.dataHandler_=new (this.getHandlerClass_()),this.layout_.computePlotArea(),this.computeYAxes_(),this.is_initial_draw_||(this.canvas_ctx_.restore(),this.hidden_ctx_.restore()),this.canvas_ctx_.save(),this.hidden_ctx_.save(),this.plotter_=new DygraphCanvasRenderer(this,this.hidden_,this.hidden_ctx_,this.layout_),this.createRollInterface_(),this.cascadeEvents_("predraw"),this.rolledSeries_=[null];for(var f=1;f<this.numColumns();f++){var b=this.dataHandler_.extractSeries(this.rawData_,f,this.attributes_);this.rollPeriod_>1&&(b=this.dataHandler_.rollingAverage(b,this.rollPeriod_,this.attributes_)),this.rolledSeries_.push(b)}this.drawGraph_();var c=new Date;this.drawingTimeMs_=c-d},a.PointType=void 0,a.stackPoints_=function(A,w,y,m){for(var b=null,j=null,f=null,B=-1,k=function(g){if(!(B>=g)){for(var d=g;d<A.length;++d){if(f=null,!isNaN(A[d].yval)&&null!==A[d].yval){B=d,f=A[d];break}}}},q=0;q<A.length;++q){var c=A[q],v=c.xval;void 0===w[v]&&(w[v]=0);var z=c.yval;isNaN(z)||null===z?"none"==m?z=0:(k(q),z=j&&f&&"none"!=m?j.yval+(f.yval-j.yval)*((v-j.xval)/(f.xval-j.xval)):j&&"all"==m?j.yval:f&&"all"==m?f.yval:0):j=c;var x=w[v];b!=v&&(x+=z,w[v]=x),b=v,c.yval_stacked=x,x>y[1]&&(y[1]=x),x<y[0]&&(y[0]=x)}},a.prototype.gatherDatasets_=function(K,N){var G,z,C,B,w,F,H=[],A=[],I=[],q={},L=K.length-1;for(G=L;G>=1;G--){if(this.visibility()[G-1]){if(N){F=K[G];var M=N[0],b=N[1];for(C=null,B=null,z=0;z<F.length;z++){F[z][0]>=M&&null===C&&(C=z),F[z][0]<=b&&(B=z)}null===C&&(C=0);for(var O=C,k=!0;k&&O>0;){O--,k=null===F[O][1]}null===B&&(B=F.length-1);var J=B;for(k=!0;k&&J<F.length-1;){J++,k=null===F[J][1]}O!==C&&(C=O),J!==B&&(B=J),H[G-1]=[C,B],F=F.slice(C,B+1)}else{F=K[G],H[G-1]=[0,F.length-1]}var j=this.attr_("labels")[G],E=this.dataHandler_.getExtremeYValues(F,N,this.getBooleanOption("stepPlot",j)),t=this.dataHandler_.seriesToPoints(F,j,H[G-1][0]);this.getBooleanOption("stackedGraph")&&(w=this.attributes_.axisForSeries(j),void 0===I[w]&&(I[w]=[]),a.stackPoints_(t,I[w],E,this.getBooleanOption("stackedGraphNaNFill"))),q[j]=E,A[G]=t}}return{points:A,extremes:q,boundaryIds:H}},a.prototype.drawGraph_=function(){var p=new Date,k=this.is_initial_draw_;this.is_initial_draw_=!1,this.layout_.removeAllDatasets(),this.setColors_(),this.attrs_.pointSize=0.5*this.getNumericOption("highlightCircleSize");var m=this.gatherDatasets_(this.rolledSeries_,this.dateWindow_),g=m.points,b=m.extremes;this.boundaryIds_=m.boundaryIds,this.setIndexByName_={};var d=this.attr_("labels");d.length>0&&(this.setIndexByName_[d[0]]=0);for(var c=0,q=1;q<g.length;q++){this.setIndexByName_[d[q]]=q,this.visibility()[q-1]&&(this.layout_.addDataset(d[q],g[q]),this.datasetIndex_[q]=c++)}this.computeYAxisRanges_(b),this.layout_.setYAxes(this.axes_),this.addXTicks_();var f=this.zoomed_x_;if(this.zoomed_x_=f,this.layout_.evaluate(),this.renderGraph_(k),this.getStringOption("timingName")){var j=new Date;console.log(this.getStringOption("timingName")+" - drawGraph: "+(j-p)+"ms")}},a.prototype.renderGraph_=function(c){this.cascadeEvents_("clearChart"),this.plotter_.clear(),this.getFunctionOption("underlayCallback")&&this.getFunctionOption("underlayCallback").call(this,this.hidden_ctx_,this.layout_.getPlotArea(),this,this);var d={canvas:this.hidden_,drawingContext:this.hidden_ctx_};if(this.cascadeEvents_("willDrawChart",d),this.plotter_.render(),this.cascadeEvents_("didDrawChart",d),this.lastRow_=-1,this.canvas_.getContext("2d").clearRect(0,0,this.width_,this.height_),null!==this.getFunctionOption("drawCallback")&&this.getFunctionOption("drawCallback")(this,c),c){for(this.readyFired_=!0;this.readyFns_.length>0;){var b=this.readyFns_.pop();b(this)}}},a.prototype.computeYAxes_=function(){var g,b,c,f,j;if(void 0!==this.axes_&&this.user_attrs_.hasOwnProperty("valueRange")===!1){for(g=[],c=0;c<this.axes_.length;c++){g.push(this.axes_[c].valueWindow)}}for(this.axes_=[],b=0;b<this.attributes_.numAxes();b++){f={g:this},a.update(f,this.attributes_.axisOptions(b)),this.axes_[b]=f}if(j=this.attr_("valueRange"),j&&(this.axes_[0].valueRange=j),void 0!==g){var h=Math.min(g.length,this.axes_.length);for(c=0;h>c;c++){this.axes_[c].valueWindow=g[c]}}for(b=0;b<this.axes_.length;b++){if(0===b){f=this.optionsViewForAxis_("y"+(b?"2":"")),j=f("valueRange"),j&&(this.axes_[b].valueRange=j)}else{var d=this.user_attrs_.axes;d&&d.y2&&(j=d.y2.valueRange,j&&(this.axes_[b].valueRange=j))}}},a.prototype.numAxes=function(){return this.attributes_.numAxes()},a.prototype.axisPropertiesForSeries=function(b){return this.axes_[this.attributes_.axisForSeries(b)]},a.prototype.computeYAxisRanges_=function(M){for(var af,aj,ab,U,Y,X=function(b){return isNaN(parseFloat(b))},Q=this.attributes_.numAxes(),aa=0;Q>aa;aa++){var ac=this.axes_[aa],W=this.attributes_.getForAxis("logscale",aa),ad=this.attributes_.getForAxis("includeZero",aa),J=this.attributes_.getForAxis("independentTicks",aa);if(ab=this.attributes_.seriesForAxis(aa),af=!0,U=0.1,null!==this.getNumericOption("yRangePad")&&(af=!1,U=this.getNumericOption("yRangePad")/this.plotter_.area.h),0===ab.length){ac.extremeRange=[0,1]}else{for(var ag,ah,F=1/0,ak=-1/0,I=0;I<ab.length;I++){M.hasOwnProperty(ab[I])&&(ag=M[ab[I]][0],null!==ag&&(F=Math.min(ag,F)),ah=M[ab[I]][1],null!==ah&&(ak=Math.max(ah,ak)))}ad&&!W&&(F>0&&(F=0),0>ak&&(ak=0)),1/0==F&&(F=0),ak==-1/0&&(ak=1),aj=ak-F,0===aj&&(0!==ak?aj=Math.abs(ak):(ak=1,aj=1));var ae,G;if(W){if(af){ae=ak+U*aj,G=F}else{var Z=Math.exp(Math.log(aj)*U);ae=ak*Z,G=F/Z}}else{ae=ak+U*aj,G=F-U*aj,af&&!this.getBooleanOption("avoidMinZero")&&(0>G&&F>=0&&(G=0),ae>0&&0>=ak&&(ae=0))}ac.extremeRange=[G,ae]}if(ac.valueWindow){ac.computedValueRange=[ac.valueWindow[0],ac.valueWindow[1]]}else{if(ac.valueRange){var N=X(ac.valueRange[0])?ac.extremeRange[0]:ac.valueRange[0],V=X(ac.valueRange[1])?ac.extremeRange[1]:ac.valueRange[1];if(!af){if(ac.logscale){var Z=Math.exp(Math.log(aj)*U);N*=Z,V/=Z}else{aj=V-N,N-=aj*U,V+=aj*U}}ac.computedValueRange=[N,V]}else{ac.computedValueRange=ac.extremeRange}}if(J){ac.independentTicks=J;var ai=this.optionsViewForAxis_("y"+(aa?"2":"")),H=ai("ticker");ac.ticks=H(ac.computedValueRange[0],ac.computedValueRange[1],this.plotter_.area.h,ai,this),Y||(Y=ac)}}if(void 0===Y){throw'Configuration Error: At least one axis has to have the "independentTicks" option activated.'}for(var aa=0;Q>aa;aa++){var ac=this.axes_[aa];if(!ac.independentTicks){for(var ai=this.optionsViewForAxis_("y"+(aa?"2":"")),H=ai("ticker"),j=Y.ticks,K=Y.computedValueRange[1]-Y.computedValueRange[0],R=ac.computedValueRange[1]-ac.computedValueRange[0],k=[],B=0;B<j.length;B++){var q=(j[B].v-Y.computedValueRange[0])/K,z=ac.computedValueRange[0]+q*R;k.push(z)}ac.ticks=H(ac.computedValueRange[0],ac.computedValueRange[1],this.plotter_.area.h,ai,this,k)}}},a.prototype.detectTypeFromString_=function(c){var d=!1,b=c.indexOf("-");b>0&&"e"!=c[b-1]&&"E"!=c[b-1]||c.indexOf("/")>=0||isNaN(parseFloat(c))?d=!0:8==c.length&&c>"19700101"&&"20371231">c&&(d=!0),this.setXAxisOptions_(d)},a.prototype.setXAxisOptions_=function(b){b?(this.attrs_.xValueParser=a.dateParser,this.attrs_.axes.x.valueFormatter=a.dateValueFormatter,this.attrs_.axes.x.ticker=a.dateTicker,this.attrs_.axes.x.axisLabelFormatter=a.dateAxisLabelFormatter):(this.attrs_.xValueParser=function(c){return parseFloat(c)},this.attrs_.axes.x.valueFormatter=function(c){return c},this.attrs_.axes.x.ticker=a.numericTicks,this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter)},a.prototype.parseCSV_=function(G){var J,C,t=[],A=a.detectLineDelimiter(G),z=G.split(A||"\n"),q=this.getStringOption("delimiter");-1==z[0].indexOf(q)&&z[0].indexOf("	")>=0&&(q="	");var B=0;"labels" in this.user_attrs_||(B=1,this.attrs_.labels=z[0].split(q),this.attributes_.reparseSeries());for(var D,w=0,E=!1,m=this.attr_("labels").length,H=!1,I=B;I<z.length;I++){var b=z[I];if(w=I,0!==b.length&&"#"!=b[0]){var K=b.split(q);if(!(K.length<2)){var k=[];if(E||(this.detectTypeFromString_(K[0]),D=this.getFunctionOption("xValueParser"),E=!0),k[0]=D(K[0],this),this.fractions_){for(C=1;C<K.length;C++){J=K[C].split("/"),2!=J.length?(console.error('Expected fractional "num/den" values in CSV data but found a value \''+K[C]+"' on line "+(1+I)+" ('"+b+"') which is not of this form."),k[C]=[0,0]):k[C]=[a.parseFloat_(J[0],I,b),a.parseFloat_(J[1],I,b)]}}else{if(this.getBooleanOption("errorBars")){for(K.length%2!=1&&console.error("Expected alternating (value, stdev.) pairs in CSV data but line "+(1+I)+" has an odd number of values ("+(K.length-1)+"): '"+b+"'"),C=1;C<K.length;C+=2){k[(C+1)/2]=[a.parseFloat_(K[C],I,b),a.parseFloat_(K[C+1],I,b)]}}else{if(this.getBooleanOption("customBars")){for(C=1;C<K.length;C++){var F=K[C];/^ *$/.test(F)?k[C]=[null,null,null]:(J=F.split(";"),3==J.length?k[C]=[a.parseFloat_(J[0],I,b),a.parseFloat_(J[1],I,b),a.parseFloat_(J[2],I,b)]:console.warn('When using customBars, values must be either blank or "low;center;high" tuples (got "'+F+'" on line '+(1+I)))}}else{for(C=1;C<K.length;C++){k[C]=a.parseFloat_(K[C],I,b)}}}}if(t.length>0&&k[0]<t[t.length-1][0]&&(H=!0),k.length!=m&&console.error("Number of columns in line "+I+" ("+k.length+") does not agree with number of labels ("+m+") "+b),0===I&&this.attr_("labels")){var j=!0;for(C=0;j&&C<k.length;C++){k[C]&&(j=!1)}if(j){console.warn("The dygraphs 'labels' option is set, but the first row of CSV data ('"+b+"') appears to also contain labels. Will drop the CSV labels and use the option labels.");continue}}t.push(k)}}}return H&&(console.warn("CSV is out of order; order it correctly to speed loading."),t.sort(function(c,d){return c[0]-d[0]})),t},a.prototype.parseArray_=function(f){if(0===f.length){return console.error("Can't plot empty data set"),null}if(0===f[0].length){return console.error("Data set cannot contain an empty row"),null}var b;if(null===this.attr_("labels")){for(console.warn("Using default labels. Set labels explicitly via 'labels' in the options parameter"),this.attrs_.labels=["X"],b=1;b<f[0].length;b++){this.attrs_.labels.push("Y"+b)}this.attributes_.reparseSeries()}else{var c=this.attr_("labels");if(c.length!=f[0].length){return console.error("Mismatch between number of labels ("+c+") and number of columns in array ("+f[0].length+")"),null}}if(a.isDateLike(f[0][0])){this.attrs_.axes.x.valueFormatter=a.dateValueFormatter,this.attrs_.axes.x.ticker=a.dateTicker,this.attrs_.axes.x.axisLabelFormatter=a.dateAxisLabelFormatter;var d=a.clone(f);for(b=0;b<f.length;b++){if(0===d[b].length){return console.error("Row "+(1+b)+" of data is empty"),null}if(null===d[b][0]||"function"!=typeof d[b][0].getTime||isNaN(d[b][0].getTime())){return console.error("x value in row "+(1+b)+" is not a Date"),null}d[b][0]=d[b][0].getTime()}return d}return this.attrs_.axes.x.valueFormatter=function(e){return e},this.attrs_.axes.x.ticker=a.numericTicks,this.attrs_.axes.x.axisLabelFormatter=a.numberAxisLabelFormatter,f},a.prototype.parseDataTable_=function(I){var L=function(c){var d=String.fromCharCode(65+c%26);for(c=Math.floor(c/26);c>0;){d=String.fromCharCode(65+(c-1)%26)+d.toLowerCase(),c=Math.floor((c-1)/26)}return d},E=I.getNumberOfColumns(),w=I.getNumberOfRows(),B=I.getColumnType(0);if("date"==B||"datetime"==B){this.attrs_.xValueParser=a.dateParser,this.attrs_.axes.x.valueFormatter=a.dateValueFormatter,this.attrs_.axes.x.ticker=a.dateTicker,this.attrs_.axes.x.axisLabelFormatter=a.dateAxisLabelFormatter}else{if("number"!=B){return console.error("only 'date', 'datetime' and 'number' types are supported for column 1 of DataTable input (Got '"+B+"')"),null}this.attrs_.xValueParser=function(c){return parseFloat(c)},this.attrs_.axes.x.valueFormatter=function(c){return c},this.attrs_.axes.x.ticker=a.numericTicks,this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter}var A,t,D=[],F={},z=!1;for(A=1;E>A;A++){var G=I.getColumnType(A);if("number"==G){D.push(A)}else{if("string"==G&&this.getBooleanOption("displayAnnotations")){var q=D[D.length-1];F.hasOwnProperty(q)?F[q].push(A):F[q]=[A],z=!0}else{console.error("Only 'number' is supported as a dependent type with Gviz. 'string' is only supported if displayAnnotations is true")}}}var J=[I.getColumnLabel(0)];for(A=0;A<D.length;A++){J.push(I.getColumnLabel(D[A])),this.getBooleanOption("errorBars")&&(A+=1)}this.attrs_.labels=J,E=J.length;var K=[],b=!1,M=[];for(A=0;w>A;A++){var k=[];if("undefined"!=typeof I.getValue(A,0)&&null!==I.getValue(A,0)){if(k.push("date"==B||"datetime"==B?I.getValue(A,0).getTime():I.getValue(A,0)),this.getBooleanOption("errorBars")){for(t=0;E-1>t;t++){k.push([I.getValue(A,1+2*t),I.getValue(A,2+2*t)])}}else{for(t=0;t<D.length;t++){var H=D[t];if(k.push(I.getValue(A,H)),z&&F.hasOwnProperty(H)&&null!==I.getValue(A,F[H][0])){var j={};j.series=I.getColumnLabel(H),j.xval=k[0],j.shortText=L(M.length),j.text="";for(var C=0;C<F[H].length;C++){C&&(j.text+="\n"),j.text+=I.getValue(A,F[H][C])}M.push(j)}}for(t=0;t<k.length;t++){isFinite(k[t])||(k[t]=null)}}K.length>0&&k[0]<K[K.length-1][0]&&(b=!0),K.push(k)}else{console.warn("Ignoring row "+A+" of DataTable because of undefined or null first column.")}}b&&(console.warn("DataTable is out of order; order it correctly to speed loading."),K.sort(function(c,d){return c[0]-d[0]})),this.rawData_=K,M.length>0&&this.setAnnotations(M,!0),this.attributes_.reparseSeries()},a.prototype.cascadeDataDidUpdateEvent_=function(){this.cascadeEvents_("dataDidUpdate",{})},a.prototype.start_=function(){var f=this.file_;if("function"==typeof f&&(f=f()),a.isArrayLike(f)){this.rawData_=this.parseArray_(f),this.cascadeDataDidUpdateEvent_(),this.predraw_()}else{if("object"==typeof f&&"function"==typeof f.getColumnRange){this.parseDataTable_(f),this.cascadeDataDidUpdateEvent_(),this.predraw_()}else{if("string"==typeof f){var b=a.detectLineDelimiter(f);if(b){this.loadedEvent_(f)}else{var c;c=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");var d=this;c.onreadystatechange=function(){4==c.readyState&&(200===c.status||0===c.status)&&d.loadedEvent_(c.responseText)},c.open("GET",f,!0),c.send(null)}}else{console.error("Unknown data format: "+typeof f)}}}},a.prototype.updateOptions=function(f,b){"undefined"==typeof b&&(b=!1);var c=f.file,d=a.copyUserAttrs_(f);"rollPeriod" in d&&(this.rollPeriod_=d.rollPeriod),"dateWindow" in d&&(this.dateWindow_=d.dateWindow,"isZoomedIgnoreProgrammaticZoom" in d||(this.zoomed_x_=null!==d.dateWindow)),"valueRange" in d&&!("isZoomedIgnoreProgrammaticZoom" in d)&&(this.zoomed_y_=null!==d.valueRange);var g=a.isPixelChangingOptionList(this.attr_("labels"),d);a.updateDeep(this.user_attrs_,d),this.attributes_.reparseSeries(),c?(this.cascadeEvents_("dataWillUpdate",{}),this.file_=c,b||this.start_()):b||(g?this.predraw_():this.renderGraph_(!1))},a.copyUserAttrs_=function(c){var d={};for(var b in c){c.hasOwnProperty(b)&&"file"!=b&&c.hasOwnProperty(b)&&(d[b]=c[b])}return d},a.prototype.resize=function(d,f){if(!this.resize_lock){this.resize_lock=!0,null===d!=(null===f)&&(console.warn("Dygraph.resize() should be called with zero parameters or two non-NULL parameters. Pretending it was zero."),d=f=null);var b=this.width_,c=this.height_;d?(this.maindiv_.style.width=d+"px",this.maindiv_.style.height=f+"px",this.width_=d,this.height_=f):(this.width_=this.maindiv_.clientWidth,this.height_=this.maindiv_.clientHeight),(b!=this.width_||c!=this.height_)&&(this.resizeElements_(),this.predraw_()),this.resize_lock=!1}},a.prototype.adjustRoll=function(b){this.rollPeriod_=b,this.predraw_()},a.prototype.visibility=function(){for(this.getOption("visibility")||(this.attrs_.visibility=[]);this.getOption("visibility").length<this.numColumns()-1;){this.attrs_.visibility.push(!0)}return this.getOption("visibility")},a.prototype.setVisibility=function(d,f){var b=this.visibility();d.constructor!==Array&&(d=[d]);for(var c=0;c<d.length;c++){d[c]<0||d[c]>=b.length?console.warn("invalid series number in setVisibility: "+d[c]):b[d[c]]=f}this.predraw_()},a.prototype.size=function(){return{width:this.width_,height:this.height_}},a.prototype.setAnnotations=function(c,b){return a.addAnnotationRule(),this.annotations_=c,this.layout_?(this.layout_.setAnnotations(this.annotations_),void (b||this.predraw_())):void console.warn("Tried to setAnnotations before dygraph was ready. Try setting them in a ready() block. See dygraphs.com/tests/annotation.html")},a.prototype.annotations=function(){return this.annotations_},a.prototype.getLabels=function(){var b=this.attr_("labels");return b?b.slice():null},a.prototype.indexFromSetName=function(b){return this.setIndexByName_[b]},a.prototype.getRowForX=function(d){for(var g=0,b=this.numRows()-1;b>=g;){var c=b+g>>1,f=this.getValue(c,0);if(d>f){g=c+1}else{if(f>d){b=c-1}else{if(g==c){return c}b=c}}}return null},a.prototype.ready=function(b){this.is_initial_draw_?this.readyFns_.push(b):b.call(this,this)},a.addAnnotationRule=function(){if(!a.addedAnnotationCSS){var f="border: 1px solid black; background-color: white; text-align: center;",b=document.createElement("style");b.type="text/css",document.getElementsByTagName("head")[0].appendChild(b);for(var c=0;c<document.styleSheets.length;c++){if(!document.styleSheets[c].disabled){var d=document.styleSheets[c];try{if(d.insertRule){var h=d.cssRules?d.cssRules.length:0;d.insertRule(".dygraphDefaultAnnotation { "+f+" }",h)}else{d.addRule&&d.addRule(".dygraphDefaultAnnotation",f)}return void (a.addedAnnotationCSS=!0)}catch(g){}}}console.warn("Unable to add default annotation CSS rule; display may be off.")}},a}();!function(){Dygraph.LOG_SCALE=10,Dygraph.LN_TEN=Math.log(Dygraph.LOG_SCALE),Dygraph.log10=function(b){return Math.log(b)/Dygraph.LN_TEN},Dygraph.DOTTED_LINE=[2,2],Dygraph.DASHED_LINE=[7,3],Dygraph.DOT_DASH_LINE=[7,2,2,2],Dygraph.getContext=function(b){return b.getContext("2d")},Dygraph.addEvent=function(c,d,b){c.addEventListener(d,b,!1)},Dygraph.prototype.addAndTrackEvent=function(c,d,b){Dygraph.addEvent(c,d,b),this.registeredEvents_.push({elem:c,type:d,fn:b})},Dygraph.removeEvent=function(c,d,b){c.removeEventListener(d,b,!1)},Dygraph.prototype.removeTrackedEvents_=function(){if(this.registeredEvents_){for(var b=0;b<this.registeredEvents_.length;b++){var c=this.registeredEvents_[b];Dygraph.removeEvent(c.elem,c.type,c.fn)}}this.registeredEvents_=[]},Dygraph.cancelEvent=function(b){return b=b?b:window.event,b.stopPropagation&&b.stopPropagation(),b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,b.cancel=!0,b.returnValue=!1,!1},Dygraph.hsvToRGB=function(u,m,q){var j,b,f;if(0===m){j=q,b=q,f=q}else{var d=Math.floor(6*u),v=6*u-d,g=q*(1-m),k=q*(1-m*v),c=q*(1-m*(1-v));switch(d){case 1:j=k,b=q,f=g;break;case 2:j=g,b=q,f=c;break;case 3:j=g,b=k,f=q;break;case 4:j=c,b=g,f=q;break;case 5:j=q,b=g,f=k;break;case 6:case 0:j=q,b=c,f=g}}return j=Math.floor(255*j+0.5),b=Math.floor(255*b+0.5),f=Math.floor(255*f+0.5),"rgb("+j+","+b+","+f+")"},Dygraph.findPos=function(d){var g=0,b=0;if(d.offsetParent){for(var c=d;;){var f="0",j="0",h=window.getComputedStyle(c,null);if(f=h.borderLeft||"0",j=h.borderTop||"0",g+=parseInt(f,10),b+=parseInt(j,10),g+=c.offsetLeft,b+=c.offsetTop,!c.offsetParent){break}c=c.offsetParent}}else{d.x&&(g+=d.x),d.y&&(b+=d.y)}for(;d&&d!=document.body;){g-=d.scrollLeft,b-=d.scrollTop,d=d.parentNode}return{x:g,y:b}},Dygraph.pageX=function(c){if(c.pageX){return !c.pageX||c.pageX<0?0:c.pageX}var d=document.documentElement,b=document.body;return c.clientX+(d.scrollLeft||b.scrollLeft)-(d.clientLeft||0)},Dygraph.pageY=function(c){if(c.pageY){return !c.pageY||c.pageY<0?0:c.pageY}var d=document.documentElement,b=document.body;return c.clientY+(d.scrollTop||b.scrollTop)-(d.clientTop||0)},Dygraph.dragGetX_=function(b,c){return Dygraph.pageX(b)-c.px},Dygraph.dragGetY_=function(b,c){return Dygraph.pageY(b)-c.py},Dygraph.isOK=function(b){return !!b&&!isNaN(b)},Dygraph.isValidPoint=function(b,c){return b?null===b.yval?!1:null===b.x||void 0===b.x?!1:null===b.y||void 0===b.y?!1:isNaN(b.x)||!c&&isNaN(b.y)?!1:!0:!1},Dygraph.floatFormat=function(c,d){var b=Math.min(Math.max(1,d||2),21);return Math.abs(c)<0.001&&0!==c?c.toExponential(b-1):c.toPrecision(b)},Dygraph.zeropad=function(b){return 10>b?"0"+b:""+b},Dygraph.DateAccessorsLocal={getFullYear:function(b){return b.getFullYear()},getMonth:function(b){return b.getMonth()},getDate:function(b){return b.getDate()},getHours:function(b){return b.getHours()},getMinutes:function(b){return b.getMinutes()},getSeconds:function(b){return b.getSeconds()},getMilliseconds:function(b){return b.getMilliseconds()},getDay:function(b){return b.getDay()},makeDate:function(d,g,b,c,f,j,h){return new Date(d,g,b,c,f,j,h)}},Dygraph.DateAccessorsUTC={getFullYear:function(b){return b.getUTCFullYear()},getMonth:function(b){return b.getUTCMonth()},getDate:function(b){return b.getUTCDate()},getHours:function(b){return b.getUTCHours()},getMinutes:function(b){return b.getUTCMinutes()},getSeconds:function(b){return b.getUTCSeconds()},getMilliseconds:function(b){return b.getUTCMilliseconds()},getDay:function(b){return b.getUTCDay()},makeDate:function(d,g,b,c,f,j,h){return new Date(Date.UTC(d,g,b,c,f,j,h))}},Dygraph.hmsString_=function(d,g,b){var c=Dygraph.zeropad,f=c(d)+":"+c(g);return b&&(f+=":"+c(b)),f},Dygraph.dateString_=function(E,x){var C=Dygraph.zeropad,q=x?Dygraph.DateAccessorsUTC:Dygraph.DateAccessorsLocal,b=new Date(E),k=q.getFullYear(b),j=q.getMonth(b),F=q.getDate(b),m=q.getHours(b),v=q.getMinutes(b),f=q.getSeconds(b),w=""+k,D=C(j+1),z=C(F),A=3600*m+60*v+f,B=w+"/"+D+"/"+z;return A&&(B+=" "+Dygraph.hmsString_(m,v,f)),B},Dygraph.round_=function(c,d){var b=Math.pow(10,d);return Math.round(c*b)/b},Dygraph.binarySearch=function(k,h,j,g,b){if((null===g||void 0===g||null===b||void 0===b)&&(g=0,b=h.length-1),g>b){return -1}(null===j||void 0===j)&&(j=0);var d,c=function(e){return e>=0&&e<h.length},m=parseInt((g+b)/2,10),f=h[m];return f==k?m:f>k?j>0&&(d=m-1,c(d)&&h[d]<k)?m:Dygraph.binarySearch(k,h,j,g,m-1):k>f?0>j&&(d=m+1,c(d)&&h[d]>k)?m:Dygraph.binarySearch(k,h,j,m+1,b):-1},Dygraph.dateParser=function(c){var d,b;if((-1==c.search("-")||-1!=c.search("T")||-1!=c.search("Z"))&&(b=Dygraph.dateStrToMillis(c),b&&!isNaN(b))){return b}if(-1!=c.search("-")){for(d=c.replace("-","/","g");-1!=d.search("-");){d=d.replace("-","/")}b=Dygraph.dateStrToMillis(d)}else{8==c.length?(d=c.substr(0,4)+"/"+c.substr(4,2)+"/"+c.substr(6,2),b=Dygraph.dateStrToMillis(d)):b=Dygraph.dateStrToMillis(c)}return(!b||isNaN(b))&&console.error("Couldn't parse "+c+" as a date"),b},Dygraph.dateStrToMillis=function(b){return new Date(b).getTime()},Dygraph.update=function(c,d){if("undefined"!=typeof d&&null!==d){for(var b in d){d.hasOwnProperty(b)&&(c[b]=d[b])}}return c},Dygraph.updateDeep=function(d,f){function b(e){return"object"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}if("undefined"!=typeof f&&null!==f){for(var c in f){f.hasOwnProperty(c)&&(null===f[c]?d[c]=null:Dygraph.isArrayLike(f[c])?d[c]=f[c].slice():b(f[c])?d[c]=f[c]:"object"==typeof f[c]?(("object"!=typeof d[c]||null===d[c])&&(d[c]={}),Dygraph.updateDeep(d[c],f[c])):d[c]=f[c])}}return d},Dygraph.isArrayLike=function(b){var c=typeof b;return"object"!=c&&("function"!=c||"function"!=typeof b.item)||null===b||"number"!=typeof b.length||3===b.nodeType?!1:!0},Dygraph.isDateLike=function(b){return"object"!=typeof b||null===b||"function"!=typeof b.getTime?!1:!0},Dygraph.clone=function(c){for(var d=[],b=0;b<c.length;b++){d.push(Dygraph.isArrayLike(c[b])?Dygraph.clone(c[b]):c[b])}return d},Dygraph.createCanvas=function(){return document.createElement("canvas")},Dygraph.getContextPixelRatio=function(d){try{var f=window.devicePixelRatio,b=d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1;return void 0!==f?f/b:1}catch(c){return 1}},Dygraph.isAndroid=function(){return/Android/.test(navigator.userAgent)},Dygraph.Iterator=function(d,f,b,c){f=f||0,b=b||d.length,this.hasNext=!0,this.peek=null,this.start_=f,this.array_=d,this.predicate_=c,this.end_=Math.min(d.length,f+b),this.nextIdx_=f-1,this.next()},Dygraph.Iterator.prototype.next=function(){if(!this.hasNext){return null}for(var c=this.peek,d=this.nextIdx_+1,b=!1;d<this.end_;){if(!this.predicate_||this.predicate_(this.array_,d)){this.peek=this.array_[d],b=!0;break}d++}return this.nextIdx_=d,b||(this.hasNext=!1,this.peek=null),c},Dygraph.createIterator=function(d,f,b,c){return new Dygraph.Iterator(d,f,b,c)},Dygraph.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){window.setTimeout(b,1000/60)}}(),Dygraph.repeatAndCleanup=function(k,h,j,g){var b,d=0,c=(new Date).getTime();if(k(d),1==h){return void g()}var m=h-1;!function f(){d>=h||Dygraph.requestAnimFrame.call(window,function(){var o=(new Date).getTime(),i=o-c;b=d,d=Math.floor(i/j);var n=d-b,l=d+n>m;l||d>=m?(k(m),g()):(0!==n&&k(d),f())})}()};var a={annotationClickHandler:!0,annotationDblClickHandler:!0,annotationMouseOutHandler:!0,annotationMouseOverHandler:!0,axisLabelColor:!0,axisLineColor:!0,axisLineWidth:!0,clickCallback:!0,drawCallback:!0,drawHighlightPointCallback:!0,drawPoints:!0,drawPointCallback:!0,drawGrid:!0,fillAlpha:!0,gridLineColor:!0,gridLineWidth:!0,hideOverlayOnMouseOut:!0,highlightCallback:!0,highlightCircleSize:!0,interactionModel:!0,isZoomedIgnoreProgrammaticZoom:!0,labelsDiv:!0,labelsDivStyles:!0,labelsDivWidth:!0,labelsKMB:!0,labelsKMG2:!0,labelsSeparateLines:!0,labelsShowZeroValues:!0,legend:!0,panEdgeFraction:!0,pixelsPerYLabel:!0,pointClickCallback:!0,pointSize:!0,rangeSelectorPlotFillColor:!0,rangeSelectorPlotFillGradientColor:!0,rangeSelectorPlotStrokeColor:!0,rangeSelectorBackgroundStrokeColor:!0,rangeSelectorBackgroundLineWidth:!0,rangeSelectorPlotLineWidth:!0,rangeSelectorForegroundStrokeColor:!0,rangeSelectorForegroundLineWidth:!0,rangeSelectorAlpha:!0,showLabelsOnHighlight:!0,showRoller:!0,strokeWidth:!0,underlayCallback:!0,unhighlightCallback:!0,zoomCallback:!0};Dygraph.isPixelChangingOptionList=function(h,c){var d={};if(h){for(var g=1;g<h.length;g++){d[h[g]]=!0}}var k=function(l){for(var i in l){if(l.hasOwnProperty(i)&&!a[i]){return !0}}return !1};for(var j in c){if(c.hasOwnProperty(j)){if("highlightSeriesOpts"==j||d[j]&&!c.series){if(k(c[j])){return !0}}else{if("series"==j||"axes"==j){var f=c[j];for(var b in f){if(f.hasOwnProperty(b)&&k(f[b])){return !0}}}else{if(!a[j]){return !0}}}}}return !1},Dygraph.Circles={DEFAULT:function(d,g,b,c,f,j,h){b.beginPath(),b.fillStyle=j,b.arc(c,f,h,0,2*Math.PI,!1),b.fill()}},Dygraph.IFrameTarp=function(){this.tarps=[]},Dygraph.IFrameTarp.prototype.cover=function(){for(var k=document.getElementsByTagName("iframe"),h=0;h<k.length;h++){var j=k[h],g=Dygraph.findPos(j),b=g.x,d=g.y,c=j.offsetWidth,m=j.offsetHeight,f=document.createElement("div");f.style.position="absolute",f.style.left=b+"px",f.style.top=d+"px",f.style.width=c+"px",f.style.height=m+"px",f.style.zIndex=999,document.body.appendChild(f),this.tarps.push(f)}},Dygraph.IFrameTarp.prototype.uncover=function(){for(var b=0;b<this.tarps.length;b++){this.tarps[b].parentNode.removeChild(this.tarps[b])}this.tarps=[]},Dygraph.detectLineDelimiter=function(c){for(var d=0;d<c.length;d++){var b=c.charAt(d);if("\r"===b){return d+1<c.length&&"\n"===c.charAt(d+1)?"\r\n":b}if("\n"===b){return d+1<c.length&&"\r"===c.charAt(d+1)?"\n\r":b}}return null},Dygraph.isNodeContainedBy=function(c,d){if(null===d||null===c){return !1}for(var b=c;b&&b!==d;){b=b.parentNode}return b===d},Dygraph.pow=function(b,c){return 0>c?1/Math.pow(b,-c):Math.pow(b,c)},Dygraph.toRGB_=function(d){var f=document.createElement("div");f.style.backgroundColor=d,f.style.visibility="hidden",document.body.appendChild(f);var b=window.getComputedStyle(f,null).backgroundColor;document.body.removeChild(f);var c=/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/.exec(b);return{r:parseInt(c[1],10),g:parseInt(c[2],10),b:parseInt(c[3],10)}},Dygraph.isCanvasSupported=function(c){try{var d=c||document.createElement("canvas");d.getContext("2d")}catch(b){return !1}return !0},Dygraph.parseFloat_=function(d,g,b){var c=parseFloat(d);if(!isNaN(c)){return c}if(/^ *$/.test(d)){return null}if(/^ *nan *$/i.test(d)){return 0/0}var f="Unable to parse '"+d+"' as a number";return void 0!==b&&void 0!==g&&(f+=" on line "+(1+(g||0))+" ('"+b+"') of CSV."),console.error(f),null}}(),function(){Dygraph.GVizChart=function(a){this.container=a},Dygraph.GVizChart.prototype.draw=function(a,b){this.container.innerHTML="","undefined"!=typeof this.date_graph&&this.date_graph.destroy(),this.date_graph=new Dygraph(this.container,a,b)},Dygraph.GVizChart.prototype.setSelection=function(a){var b=!1;a.length&&(b=a[0].row),this.date_graph.setSelection(b)},Dygraph.GVizChart.prototype.getSelection=function(){var d=[],f=this.date_graph.getSelection();if(0>f){return d}for(var b=this.date_graph.layout_.points,c=0;c<b.length;++c){d.push({row:f,column:c+1})}return d}}(),function(){var c=100;Dygraph.Interaction={},Dygraph.Interaction.maybeTreatMouseOpAsClick=function(h,k,f){f.dragEndX=Dygraph.dragGetX_(h,f),f.dragEndY=Dygraph.dragGetY_(h,f);var g=Math.abs(f.dragEndX-f.dragStartX),j=Math.abs(f.dragEndY-f.dragStartY);2>g&&2>j&&void 0!==k.lastx_&&-1!=k.lastx_&&Dygraph.Interaction.treatMouseOpAsClick(k,h,f),f.regionWidth=g,f.regionHeight=j},Dygraph.Interaction.startPan=function(z,N,Q){var J,C;Q.isPanning=!0;var G=N.xAxisRange();if(N.getOptionForAxis("logscale","x")?(Q.initialLeftmostDate=Dygraph.log10(G[0]),Q.dateRange=Dygraph.log10(G[1])-Dygraph.log10(G[0])):(Q.initialLeftmostDate=G[0],Q.dateRange=G[1]-G[0]),Q.xUnitsPerPixel=Q.dateRange/(N.plotter_.area.w-1),N.getNumericOption("panEdgeFraction")){var F=N.width_*N.getNumericOption("panEdgeFraction"),B=N.xAxisExtremes(),I=N.toDomXCoord(B[0])-F,K=N.toDomXCoord(B[1])+F,E=N.toDataXCoord(I),L=N.toDataXCoord(K);Q.boundedDates=[E,L];var w=[],O=N.height_*N.getNumericOption("panEdgeFraction");for(J=0;J<N.axes_.length;J++){C=N.axes_[J];var P=C.extremeRange,j=N.toDomYCoord(P[0],J)+O,R=N.toDomYCoord(P[1],J)-O,q=N.toDataYCoord(j,J),M=N.toDataYCoord(R,J);w[J]=[q,M]}Q.boundedValues=w}for(Q.is2DPan=!1,Q.axes=[],J=0;J<N.axes_.length;J++){C=N.axes_[J];var k={},H=N.yAxisRange(J),A=N.attributes_.getForAxis("logscale",J);A?(k.initialTopValue=Dygraph.log10(H[1]),k.dragValueRange=Dygraph.log10(H[1])-Dygraph.log10(H[0])):(k.initialTopValue=H[1],k.dragValueRange=H[1]-H[0]),k.unitsPerPixel=k.dragValueRange/(N.plotter_.area.h-1),Q.axes.push(k),(C.valueWindow||C.valueRange)&&(Q.is2DPan=!0)}},Dygraph.Interaction.movePan=function(B,y,z){z.dragEndX=Dygraph.dragGetX_(B,z),z.dragEndY=Dygraph.dragGetY_(B,z);var v=z.initialLeftmostDate-(z.dragEndX-z.dragStartX)*z.xUnitsPerPixel;z.boundedDates&&(v=Math.max(v,z.boundedDates[0]));var f=v+z.dateRange;if(z.boundedDates&&f>z.boundedDates[1]&&(v-=f-z.boundedDates[1],f=v+z.dateRange),y.dateWindow_=y.getOptionForAxis("logscale","x")?[Math.pow(Dygraph.LOG_SCALE,v),Math.pow(Dygraph.LOG_SCALE,f)]:[v,f],z.is2DPan){for(var m=z.dragEndY-z.dragStartY,k=0;k<y.axes_.length;k++){var C=y.axes_[k],q=z.axes[k],w=m*q.unitsPerPixel,j=z.boundedValues?z.boundedValues[k]:null,x=q.initialTopValue+w;j&&(x=Math.min(x,j[1]));var A=x-q.dragValueRange;j&&A<j[0]&&(x-=A-j[0],A=x-q.dragValueRange),C.valueWindow=y.attributes_.getForAxis("logscale",k)?[Math.pow(Dygraph.LOG_SCALE,A),Math.pow(Dygraph.LOG_SCALE,x)]:[A,x]}}y.drawGraph_(!1)},Dygraph.Interaction.endPan=Dygraph.Interaction.maybeTreatMouseOpAsClick,Dygraph.Interaction.startZoom=function(g,h,f){f.isZooming=!0,f.zoomMoved=!1},Dygraph.Interaction.moveZoom=function(h,k,f){f.zoomMoved=!0,f.dragEndX=Dygraph.dragGetX_(h,f),f.dragEndY=Dygraph.dragGetY_(h,f);var g=Math.abs(f.dragStartX-f.dragEndX),j=Math.abs(f.dragStartY-f.dragEndY);f.dragDirection=j/2>g?Dygraph.VERTICAL:Dygraph.HORIZONTAL,k.drawZoomRect_(f.dragDirection,f.dragStartX,f.dragEndX,f.dragStartY,f.dragEndY,f.prevDragDirection,f.prevEndX,f.prevEndY),f.prevEndX=f.dragEndX,f.prevEndY=f.dragEndY,f.prevDragDirection=f.dragDirection},Dygraph.Interaction.treatMouseOpAsClick=function(C,y,A){for(var v=C.getFunctionOption("clickCallback"),f=C.getFunctionOption("pointClickCallback"),m=null,k=-1,D=Number.MAX_VALUE,q=0;q<C.selPoints_.length;q++){var w=C.selPoints_[q],j=Math.pow(w.canvasx-A.dragEndX,2)+Math.pow(w.canvasy-A.dragEndY,2);!isNaN(j)&&(-1==k||D>j)&&(D=j,k=q)}var x=C.getNumericOption("highlightCircleSize")+2;if(x*x>=D&&(m=C.selPoints_[k]),m){var B={cancelable:!0,point:m,canvasx:A.dragEndX,canvasy:A.dragEndY},z=C.cascadeEvents_("pointClick",B);if(z){return}f&&f.call(C,y,m)}var B={cancelable:!0,xval:C.lastx_,pts:C.selPoints_,canvasx:A.dragEndX,canvasy:A.dragEndY};C.cascadeEvents_("click",B)||v&&v.call(C,y,C.lastx_,C.selPoints_)},Dygraph.Interaction.endZoom=function(h,l,f){l.clearZoomRect_(),f.isZooming=!1,Dygraph.Interaction.maybeTreatMouseOpAsClick(h,l,f);var g=l.getArea();if(f.regionWidth>=10&&f.dragDirection==Dygraph.HORIZONTAL){var k=Math.min(f.dragStartX,f.dragEndX),p=Math.max(f.dragStartX,f.dragEndX);k=Math.max(k,g.x),p=Math.min(p,g.x+g.w),p>k&&l.doZoomX_(k,p),f.cancelNextDblclick=!0}else{if(f.regionHeight>=10&&f.dragDirection==Dygraph.VERTICAL){var m=Math.min(f.dragStartY,f.dragEndY),j=Math.max(f.dragStartY,f.dragEndY);m=Math.max(m,g.y),j=Math.min(j,g.y+g.h),j>m&&l.doZoomY_(m,j),f.cancelNextDblclick=!0}}f.dragStartX=null,f.dragStartY=null},Dygraph.Interaction.startTouch=function(h,k,f){h.preventDefault(),h.touches.length>1&&(f.startTimeForDoubleTapMs=null);for(var g=[],j=0;j<h.touches.length;j++){var m=h.touches[j];g.push({pageX:m.pageX,pageY:m.pageY,dataX:k.toDataXCoord(m.pageX),dataY:k.toDataYCoord(m.pageY)})}if(f.initialTouches=g,1==g.length){f.initialPinchCenter=g[0],f.touchDirections={x:!0,y:!0}}else{if(g.length>=2){f.initialPinchCenter={pageX:0.5*(g[0].pageX+g[1].pageX),pageY:0.5*(g[0].pageY+g[1].pageY),dataX:0.5*(g[0].dataX+g[1].dataX),dataY:0.5*(g[0].dataY+g[1].dataY)};var l=180/Math.PI*Math.atan2(f.initialPinchCenter.pageY-g[0].pageY,g[0].pageX-f.initialPinchCenter.pageX);l=Math.abs(l),l>90&&(l=90-l),f.touchDirections={x:67.5>l,y:l>22.5}}}f.initialRange={x:k.xAxisRange(),y:k.yAxisRange()}},Dygraph.Interaction.moveTouch=function(w,J,M){M.startTimeForDoubleTapMs=null;var F,A=[];for(F=0;F<w.touches.length;F++){var D=w.touches[F];A.push({pageX:D.pageX,pageY:D.pageY})}var C,z=M.initialTouches,E=M.initialPinchCenter;C=1==A.length?A[0]:{pageX:0.5*(A[0].pageX+A[1].pageX),pageY:0.5*(A[0].pageY+A[1].pageY)};var G={pageX:C.pageX-E.pageX,pageY:C.pageY-E.pageY},B=M.initialRange.x[1]-M.initialRange.x[0],H=M.initialRange.y[0]-M.initialRange.y[1];G.dataX=G.pageX/J.plotter_.area.w*B,G.dataY=G.pageY/J.plotter_.area.h*H;var q,K;if(1==A.length){q=1,K=1}else{if(A.length>=2){var L=z[1].pageX-E.pageX;q=(A[1].pageX-C.pageX)/L;var j=z[1].pageY-E.pageY;K=(A[1].pageY-C.pageY)/j}}q=Math.min(8,Math.max(0.125,q)),K=Math.min(8,Math.max(0.125,K));var N=!1;if(M.touchDirections.x&&(J.dateWindow_=[E.dataX-G.dataX+(M.initialRange.x[0]-E.dataX)/q,E.dataX-G.dataX+(M.initialRange.x[1]-E.dataX)/q],N=!0),M.touchDirections.y){for(F=0;1>F;F++){var m=J.axes_[F],I=J.attributes_.getForAxis("logscale",F);I||(m.valueWindow=[E.dataY-G.dataY+(M.initialRange.y[0]-E.dataY)/K,E.dataY-G.dataY+(M.initialRange.y[1]-E.dataY)/K],N=!0)}}if(J.drawGraph_(!1),N&&A.length>1&&J.getFunctionOption("zoomCallback")){var k=J.xAxisRange();J.getFunctionOption("zoomCallback").call(J,k[0],k[1],J.yAxisRanges())}},Dygraph.Interaction.endTouch=function(h,k,f){if(0!==h.touches.length){Dygraph.Interaction.startTouch(h,k,f)}else{if(1==h.changedTouches.length){var g=(new Date).getTime(),j=h.changedTouches[0];f.startTimeForDoubleTapMs&&g-f.startTimeForDoubleTapMs<500&&f.doubleTapX&&Math.abs(f.doubleTapX-j.screenX)<50&&f.doubleTapY&&Math.abs(f.doubleTapY-j.screenY)<50?k.resetZoom():(f.startTimeForDoubleTapMs=g,f.doubleTapX=j.screenX,f.doubleTapY=j.screenY)}}};var d=function(g,h,f){return h>g?h-g:g>f?g-f:0},b=function(g,e){var f=Dygraph.findPos(e.canvas_),j={left:f.x,right:f.x+e.canvas_.offsetWidth,top:f.y,bottom:f.y+e.canvas_.offsetHeight},l={x:Dygraph.pageX(g),y:Dygraph.pageY(g)},k=d(l.x,j.left,j.right),h=d(l.y,j.top,j.bottom);return Math.max(k,h)};Dygraph.Interaction.defaultModel={mousedown:function(g,a,f){if(!g.button||2!=g.button){f.initializeMouseDown(g,a,f),g.altKey||g.shiftKey?Dygraph.startPan(g,a,f):Dygraph.startZoom(g,a,f);var j=function(i){if(f.isZooming){var k=b(i,a);c>k?Dygraph.moveZoom(i,a,f):null!==f.dragEndX&&(f.dragEndX=null,f.dragEndY=null,a.clearZoomRect_())}else{f.isPanning&&Dygraph.movePan(i,a,f)}},h=function(e){f.isZooming?null!==f.dragEndX?Dygraph.endZoom(e,a,f):Dygraph.Interaction.maybeTreatMouseOpAsClick(e,a,f):f.isPanning&&Dygraph.endPan(e,a,f),Dygraph.removeEvent(document,"mousemove",j),Dygraph.removeEvent(document,"mouseup",h),f.destroy()};a.addAndTrackEvent(document,"mousemove",j),a.addAndTrackEvent(document,"mouseup",h)}},willDestroyContextMyself:!0,touchstart:function(g,h,f){Dygraph.Interaction.startTouch(g,h,f)},touchmove:function(g,h,f){Dygraph.Interaction.moveTouch(g,h,f)},touchend:function(g,h,f){Dygraph.Interaction.endTouch(g,h,f)},dblclick:function(h,j,f){if(f.cancelNextDblclick){return void (f.cancelNextDblclick=!1)}var g={canvasx:f.dragEndX,canvasy:f.dragEndY};j.cascadeEvents_("dblclick",g)||h.altKey||h.shiftKey||j.resetZoom()}},Dygraph.DEFAULT_ATTRS.interactionModel=Dygraph.Interaction.defaultModel,Dygraph.defaultInteractionModel=Dygraph.Interaction.defaultModel,Dygraph.endZoom=Dygraph.Interaction.endZoom,Dygraph.moveZoom=Dygraph.Interaction.moveZoom,Dygraph.startZoom=Dygraph.Interaction.startZoom,Dygraph.endPan=Dygraph.Interaction.endPan,Dygraph.movePan=Dygraph.Interaction.movePan,Dygraph.startPan=Dygraph.Interaction.startPan,Dygraph.Interaction.nonInteractiveModel_={mousedown:function(g,h,f){f.initializeMouseDown(g,h,f)},mouseup:Dygraph.Interaction.maybeTreatMouseOpAsClick},Dygraph.Interaction.dragIsPanInteractionModel={mousedown:function(g,h,f){f.initializeMouseDown(g,h,f),Dygraph.startPan(g,h,f)},mousemove:function(g,h,f){f.isPanning&&Dygraph.movePan(g,h,f)},mouseup:function(g,h,f){f.isPanning&&Dygraph.endPan(g,h,f)}}}(),function(){Dygraph.TickList=void 0,Dygraph.Ticker=void 0,Dygraph.numericLinearTicks=function(d,g,b,c,f,j){var h=function(a){return"logscale"===a?!1:c(a)};return Dygraph.numericTicks(d,g,b,h,f,j)},Dygraph.numericTicks=function(K,ad,ah,Z,Q,W){var V,N,Y,aa,U=Z("pixelsPerLabel"),ab=[];if(W){for(V=0;V<W.length;V++){ab.push({v:W[V]})}}else{if(Z("logscale")){aa=Math.floor(ah/U);var I=Dygraph.binarySearch(K,Dygraph.PREFERRED_LOG_TICK_VALUES,1),ae=Dygraph.binarySearch(ad,Dygraph.PREFERRED_LOG_TICK_VALUES,-1);-1==I&&(I=0),-1==ae&&(ae=Dygraph.PREFERRED_LOG_TICK_VALUES.length-1);var af=null;if(ae-I>=aa/4){for(var B=ae;B>=I;B--){var ai=Dygraph.PREFERRED_LOG_TICK_VALUES[B],H=Math.log(ai/K)/Math.log(ad/K)*ah,ac={v:ai};null===af?af={tickValue:ai,pixel_coord:H}:Math.abs(H-af.pixel_coord)>=U?af={tickValue:ai,pixel_coord:H}:ac.label="",ab.push(ac)}ab.reverse()}}if(0===ab.length){var F,X,M=Z("labelsKMG2");M?(F=[1,2,4,8,16,32,64,128,256],X=16):(F=[1,2,5,10,20,50,100],X=10);var R,ag,G,j,J=Math.ceil(ah/U),O=Math.abs(ad-K)/J,k=Math.floor(Math.log(O)/Math.log(X)),z=Math.pow(X,k);for(N=0;N<F.length&&(R=z*F[N],ag=Math.floor(K/R)*R,G=Math.ceil(ad/R)*R,aa=Math.abs(G-ag)/R,j=ah/aa,!(j>U));N++){}for(ag>G&&(R*=-1),V=0;aa>=V;V++){Y=ag+V*R,ab.push({v:Y})}}}var q=Z("axisLabelFormatter");for(V=0;V<ab.length;V++){void 0===ab[V].label&&(ab[V].label=q.call(Q,ab[V].v,0,Z,Q))}return ab},Dygraph.dateTicker=function(d,g,b,c,f){var h=Dygraph.pickDateTickGranularity(d,g,b,c);return h>=0?Dygraph.getDateAxis(d,g,h,c,f):[]},Dygraph.SECONDLY=0,Dygraph.TWO_SECONDLY=1,Dygraph.FIVE_SECONDLY=2,Dygraph.TEN_SECONDLY=3,Dygraph.THIRTY_SECONDLY=4,Dygraph.MINUTELY=5,Dygraph.TWO_MINUTELY=6,Dygraph.FIVE_MINUTELY=7,Dygraph.TEN_MINUTELY=8,Dygraph.THIRTY_MINUTELY=9,Dygraph.HOURLY=10,Dygraph.TWO_HOURLY=11,Dygraph.SIX_HOURLY=12,Dygraph.DAILY=13,Dygraph.TWO_DAILY=14,Dygraph.WEEKLY=15,Dygraph.MONTHLY=16,Dygraph.QUARTERLY=17,Dygraph.BIANNUAL=18,Dygraph.ANNUAL=19,Dygraph.DECADAL=20,Dygraph.CENTENNIAL=21,Dygraph.NUM_GRANULARITIES=22,Dygraph.DATEFIELD_Y=0,Dygraph.DATEFIELD_M=1,Dygraph.DATEFIELD_D=2,Dygraph.DATEFIELD_HH=3,Dygraph.DATEFIELD_MM=4,Dygraph.DATEFIELD_SS=5,Dygraph.DATEFIELD_MS=6,Dygraph.NUM_DATEFIELDS=7,Dygraph.TICK_PLACEMENT=[],Dygraph.TICK_PLACEMENT[Dygraph.SECONDLY]={datefield:Dygraph.DATEFIELD_SS,step:1,spacing:1000},Dygraph.TICK_PLACEMENT[Dygraph.TWO_SECONDLY]={datefield:Dygraph.DATEFIELD_SS,step:2,spacing:2000},Dygraph.TICK_PLACEMENT[Dygraph.FIVE_SECONDLY]={datefield:Dygraph.DATEFIELD_SS,step:5,spacing:5000},Dygraph.TICK_PLACEMENT[Dygraph.TEN_SECONDLY]={datefield:Dygraph.DATEFIELD_SS,step:10,spacing:10000},Dygraph.TICK_PLACEMENT[Dygraph.THIRTY_SECONDLY]={datefield:Dygraph.DATEFIELD_SS,step:30,spacing:30000},Dygraph.TICK_PLACEMENT[Dygraph.MINUTELY]={datefield:Dygraph.DATEFIELD_MM,step:1,spacing:60000},Dygraph.TICK_PLACEMENT[Dygraph.TWO_MINUTELY]={datefield:Dygraph.DATEFIELD_MM,step:2,spacing:120000},Dygraph.TICK_PLACEMENT[Dygraph.FIVE_MINUTELY]={datefield:Dygraph.DATEFIELD_MM,step:5,spacing:300000},Dygraph.TICK_PLACEMENT[Dygraph.TEN_MINUTELY]={datefield:Dygraph.DATEFIELD_MM,step:10,spacing:600000},Dygraph.TICK_PLACEMENT[Dygraph.THIRTY_MINUTELY]={datefield:Dygraph.DATEFIELD_MM,step:30,spacing:1800000},Dygraph.TICK_PLACEMENT[Dygraph.HOURLY]={datefield:Dygraph.DATEFIELD_HH,step:1,spacing:3600000},Dygraph.TICK_PLACEMENT[Dygraph.TWO_HOURLY]={datefield:Dygraph.DATEFIELD_HH,step:2,spacing:7200000},Dygraph.TICK_PLACEMENT[Dygraph.SIX_HOURLY]={datefield:Dygraph.DATEFIELD_HH,step:6,spacing:21600000},Dygraph.TICK_PLACEMENT[Dygraph.DAILY]={datefield:Dygraph.DATEFIELD_D,step:1,spacing:86400000},Dygraph.TICK_PLACEMENT[Dygraph.TWO_DAILY]={datefield:Dygraph.DATEFIELD_D,step:2,spacing:172800000},Dygraph.TICK_PLACEMENT[Dygraph.WEEKLY]={datefield:Dygraph.DATEFIELD_D,step:7,spacing:604800000},Dygraph.TICK_PLACEMENT[Dygraph.MONTHLY]={datefield:Dygraph.DATEFIELD_M,step:1,spacing:2629817280},Dygraph.TICK_PLACEMENT[Dygraph.QUARTERLY]={datefield:Dygraph.DATEFIELD_M,step:3,spacing:21600000*365.2524},Dygraph.TICK_PLACEMENT[Dygraph.BIANNUAL]={datefield:Dygraph.DATEFIELD_M,step:6,spacing:43200000*365.2524},Dygraph.TICK_PLACEMENT[Dygraph.ANNUAL]={datefield:Dygraph.DATEFIELD_Y,step:1,spacing:86400000*365.2524},Dygraph.TICK_PLACEMENT[Dygraph.DECADAL]={datefield:Dygraph.DATEFIELD_Y,step:10,spacing:315578073600},Dygraph.TICK_PLACEMENT[Dygraph.CENTENNIAL]={datefield:Dygraph.DATEFIELD_Y,step:100,spacing:3155780736000},Dygraph.PREFERRED_LOG_TICK_VALUES=function(){for(var d=[],g=-39;39>=g;g++){for(var b=Math.pow(10,g),c=1;9>=c;c++){var f=b*c;d.push(f)}}return d}(),Dygraph.pickDateTickGranularity=function(d,g,b,c){for(var f=c("pixelsPerLabel"),j=0;j<Dygraph.NUM_GRANULARITIES;j++){var h=Dygraph.numDateTicks(d,g,j);if(b/h>=f){return j}}return -1},Dygraph.numDateTicks=function(d,f,b){var c=Dygraph.TICK_PLACEMENT[b].spacing;return Math.round(1*(f-d)/c)},Dygraph.getDateAxis=function(k,E,H,B,q){var z=B("axisLabelFormatter"),x=B("labelsUTC"),m=x?Dygraph.DateAccessorsUTC:Dygraph.DateAccessorsLocal,A=Dygraph.TICK_PLACEMENT[H].datefield,C=Dygraph.TICK_PLACEMENT[H].step,w=Dygraph.TICK_PLACEMENT[H].spacing,D=new Date(k),j=[];j[Dygraph.DATEFIELD_Y]=m.getFullYear(D),j[Dygraph.DATEFIELD_M]=m.getMonth(D),j[Dygraph.DATEFIELD_D]=m.getDate(D),j[Dygraph.DATEFIELD_HH]=m.getHours(D),j[Dygraph.DATEFIELD_MM]=m.getMinutes(D),j[Dygraph.DATEFIELD_SS]=m.getSeconds(D),j[Dygraph.DATEFIELD_MS]=m.getMilliseconds(D);var F=j[A]%C;H==Dygraph.WEEKLY&&(F=m.getDay(D)),j[A]-=F;for(var G=A+1;G<Dygraph.NUM_DATEFIELDS;G++){j[G]=G===Dygraph.DATEFIELD_D?1:0}var b=[],I=m.makeDate.apply(null,j),f=I.getTime();if(H<=Dygraph.HOURLY){for(k>f&&(f+=w,I=new Date(f));E>=f;){b.push({v:f,label:z.call(q,I,H,B,q)}),f+=w,I=new Date(f)}}else{for(k>f&&(j[A]+=C,I=m.makeDate.apply(null,j),f=I.getTime());E>=f;){(H>=Dygraph.DAILY||m.getHours(I)%C===0)&&b.push({v:f,label:z.call(q,I,H,B,q)}),j[A]+=C,I=m.makeDate.apply(null,j),f=I.getTime()}}return b},Dygraph&&Dygraph.DEFAULT_ATTRS&&Dygraph.DEFAULT_ATTRS.axes&&Dygraph.DEFAULT_ATTRS.axes.x&&Dygraph.DEFAULT_ATTRS.axes.y&&Dygraph.DEFAULT_ATTRS.axes.y2&&(Dygraph.DEFAULT_ATTRS.axes.x.ticker=Dygraph.dateTicker,Dygraph.DEFAULT_ATTRS.axes.y.ticker=Dygraph.numericTicks,Dygraph.DEFAULT_ATTRS.axes.y2.ticker=Dygraph.numericTicks)}(),Dygraph.Plugins={},Dygraph.Plugins.Annotations=function(){var a=function(){this.annotations_=[]};return a.prototype.toString=function(){return"Annotations Plugin"},a.prototype.activate=function(){return{clearChart:this.clearChart,didDrawChart:this.didDrawChart}},a.prototype.detachLabels=function(){for(var b=0;b<this.annotations_.length;b++){var c=this.annotations_[b];c.parentNode&&c.parentNode.removeChild(c),this.annotations_[b]=null}this.annotations_=[]},a.prototype.clearChart=function(){this.detachLabels()},a.prototype.didDrawChart=function(w){var K=w.dygraph,N=K.layout_.annotated_points;if(N&&0!==N.length){for(var G=w.canvas.parentNode,A={position:"absolute",fontSize:K.getOption("axisLabelFontSize")+"px",zIndex:10,overflow:"hidden"},D=function(e,c,d){return function(f){var g=d.annotation;g.hasOwnProperty(e)?g[e](g,d,K,f):K.getOption(c)&&K.getOption(c)(g,d,K,f)}},C=w.dygraph.plotter_.area,z={},F=0;F<N.length;F++){var H=N[F];if(!(H.canvasx<C.x||H.canvasx>C.x+C.w||H.canvasy<C.y||H.canvasy>C.y+C.h)){var B=H.annotation,I=6;B.hasOwnProperty("tickHeight")&&(I=B.tickHeight);var q=document.createElement("div");for(var L in A){A.hasOwnProperty(L)&&(q.style[L]=A[L])}B.hasOwnProperty("icon")||(q.className="dygraphDefaultAnnotation"),B.hasOwnProperty("cssClass")&&(q.className+=" "+B.cssClass);var M=B.hasOwnProperty("width")?B.width:16,b=B.hasOwnProperty("height")?B.height:16;if(B.hasOwnProperty("icon")){var O=document.createElement("img");O.src=B.icon,O.width=M,O.height=b,q.appendChild(O)}else{H.annotation.hasOwnProperty("shortText")&&q.appendChild(document.createTextNode(H.annotation.shortText))}var k=H.canvasx-M/2;q.style.left=k+"px";var J=0;if(B.attachAtBottom){var j=C.y+C.h-b-I;z[k]?j-=z[k]:z[k]=0,z[k]+=I+b,J=j}else{J=H.canvasy-b-I}q.style.top=J+"px",q.style.width=M+"px",q.style.height=b+"px",q.title=H.annotation.text,q.style.color=K.colorsMap_[H.name],q.style.borderColor=K.colorsMap_[H.name],B.div=q,K.addAndTrackEvent(q,"click",D("clickHandler","annotationClickHandler",H,this)),K.addAndTrackEvent(q,"mouseover",D("mouseOverHandler","annotationMouseOverHandler",H,this)),K.addAndTrackEvent(q,"mouseout",D("mouseOutHandler","annotationMouseOutHandler",H,this)),K.addAndTrackEvent(q,"dblclick",D("dblClickHandler","annotationDblClickHandler",H,this)),G.appendChild(q),this.annotations_.push(q);var E=w.drawingContext;if(E.save(),E.strokeStyle=K.colorsMap_[H.name],E.beginPath(),B.attachAtBottom){var j=J+b;E.moveTo(H.canvasx,j),E.lineTo(H.canvasx,j+I)}else{E.moveTo(H.canvasx,H.canvasy),E.lineTo(H.canvasx,H.canvasy-2-I)}E.closePath(),E.stroke(),E.restore()}}}},a.prototype.destroy=function(){this.detachLabels()},a}(),Dygraph.Plugins.Axes=function(){var a=function(){this.xlabels_=[],this.ylabels_=[]};return a.prototype.toString=function(){return"Axes Plugin"},a.prototype.activate=function(){return{layout:this.layout,clearChart:this.clearChart,willDrawChart:this.willDrawChart}},a.prototype.layout=function(d){var f=d.dygraph;if(f.getOptionForAxis("drawAxis","y")){var b=f.getOptionForAxis("axisLabelWidth","y")+2*f.getOptionForAxis("axisTickSize","y");d.reserveSpaceLeft(b)}if(f.getOptionForAxis("drawAxis","x")){var c;c=f.getOption("xAxisHeight")?f.getOption("xAxisHeight"):f.getOptionForAxis("axisLabelFontSize","x")+2*f.getOptionForAxis("axisTickSize","x"),d.reserveSpaceBottom(c)}if(2==f.numAxes()){if(f.getOptionForAxis("drawAxis","y2")){var b=f.getOptionForAxis("axisLabelWidth","y2")+2*f.getOptionForAxis("axisTickSize","y2");d.reserveSpaceRight(b)}}else{f.numAxes()>2&&f.error("Only two y-axes are supported at this time. (Trying to use "+f.numAxes()+")")}},a.prototype.detachLabels=function(){function b(d){for(var f=0;f<d.length;f++){var c=d[f];c.parentNode&&c.parentNode.removeChild(c)}}b(this.xlabels_),b(this.ylabels_),this.xlabels_=[],this.ylabels_=[]},a.prototype.clearChart=function(){this.detachLabels()},a.prototype.willDrawChart=function(M){function af(b){return Math.round(b)+0.5}function aj(b){return Math.round(b)-0.5}var ab=M.dygraph;if(ab.getOptionForAxis("drawAxis","x")||ab.getOptionForAxis("drawAxis","y")||ab.getOptionForAxis("drawAxis","y2")){var U,Y,X,Q,aa,ac=M.drawingContext,W=M.canvas.parentNode,ad=ab.width_,J=ab.height_,ag=function(b){return{position:"absolute",fontSize:ab.getOptionForAxis("axisLabelFontSize",b)+"px",zIndex:10,color:ab.getOptionForAxis("axisLabelColor",b),width:ab.getOptionForAxis("axisLabelWidth",b)+"px",lineHeight:"normal",overflow:"hidden"}},ah={x:ag("x"),y:ag("y"),y2:ag("y2")},F=function(d,g,b){var c=document.createElement("div"),f=ah["y2"==b?"y2":g];for(var l in f){f.hasOwnProperty(l)&&(c.style[l]=f[l])}var h=document.createElement("div");return h.className="dygraph-axis-label dygraph-axis-label-"+g+(b?" dygraph-axis-label-"+b:""),h.innerHTML=d,c.appendChild(h),c};ac.save();var ak=ab.layout_,I=M.dygraph.plotter_.area,ae=function(b){return function(c){return ab.getOptionForAxis(c,b)}};if(ab.getOptionForAxis("drawAxis","y")){if(ak.yticks&&ak.yticks.length>0){var G=ab.numAxes(),Z=[ae("y"),ae("y2")];for(aa=0;aa<ak.yticks.length;aa++){if(Q=ak.yticks[aa],"function"==typeof Q){return}Y=I.x;var N=1,V="y1",ai=Z[0];1==Q[0]&&(Y=I.x+I.w,N=-1,V="y2",ai=Z[1]);var H=ai("axisLabelFontSize");X=I.y+Q[1]*I.h,U=F(Q[2],"y",2==G?V:null);var j=X-H/2;0>j&&(j=0),j+H+3>J?U.style.bottom="0":U.style.top=j+"px",0===Q[0]?(U.style.left=I.x-ai("axisLabelWidth")-ai("axisTickSize")+"px",U.style.textAlign="right"):1==Q[0]&&(U.style.left=I.x+I.w+ai("axisTickSize")+"px",U.style.textAlign="left"),U.style.width=ai("axisLabelWidth")+"px",W.appendChild(U),this.ylabels_.push(U)}var K=this.ylabels_[0],H=ab.getOptionForAxis("axisLabelFontSize","y"),R=parseInt(K.style.top,10)+H;R>J-H&&(K.style.top=parseInt(K.style.top,10)-H/2+"px")}var k;if(ab.getOption("drawAxesAtZero")){var B=ab.toPercentXCoord(0);(B>1||0>B||isNaN(B))&&(B=0),k=af(I.x+B*I.w)}else{k=af(I.x)}ac.strokeStyle=ab.getOptionForAxis("axisLineColor","y"),ac.lineWidth=ab.getOptionForAxis("axisLineWidth","y"),ac.beginPath(),ac.moveTo(k,aj(I.y)),ac.lineTo(k,aj(I.y+I.h)),ac.closePath(),ac.stroke(),2==ab.numAxes()&&(ac.strokeStyle=ab.getOptionForAxis("axisLineColor","y2"),ac.lineWidth=ab.getOptionForAxis("axisLineWidth","y2"),ac.beginPath(),ac.moveTo(aj(I.x+I.w),aj(I.y)),ac.lineTo(aj(I.x+I.w),aj(I.y+I.h)),ac.closePath(),ac.stroke())}if(ab.getOptionForAxis("drawAxis","x")){if(ak.xticks){var ai=ae("x");for(aa=0;aa<ak.xticks.length;aa++){Q=ak.xticks[aa],Y=I.x+Q[0]*I.w,X=I.y+I.h,U=F(Q[1],"x"),U.style.textAlign="center",U.style.top=X+ai("axisTickSize")+"px";var q=Y-ai("axisLabelWidth")/2;q+ai("axisLabelWidth")>ad&&(q=ad-ai("axisLabelWidth"),U.style.textAlign="right"),0>q&&(q=0,U.style.textAlign="left"),U.style.left=q+"px",U.style.width=ai("axisLabelWidth")+"px",W.appendChild(U),this.xlabels_.push(U)}}ac.strokeStyle=ab.getOptionForAxis("axisLineColor","x"),ac.lineWidth=ab.getOptionForAxis("axisLineWidth","x"),ac.beginPath();var z;if(ab.getOption("drawAxesAtZero")){var B=ab.toPercentYCoord(0,0);(B>1||0>B)&&(B=1),z=aj(I.y+B*I.h)}else{z=aj(I.y+I.h)}ac.moveTo(af(I.x),z),ac.lineTo(af(I.x+I.w),z),ac.closePath(),ac.stroke()}ac.restore()}},a}(),Dygraph.Plugins.ChartLabels=function(){var c=function(){this.title_div_=null,this.xlabel_div_=null,this.ylabel_div_=null,this.y2label_div_=null};c.prototype.toString=function(){return"ChartLabels Plugin"},c.prototype.activate=function(){return{layout:this.layout,didDrawChart:this.didDrawChart}};var d=function(a){var f=document.createElement("div");return f.style.position="absolute",f.style.left=a.x+"px",f.style.top=a.y+"px",f.style.width=a.w+"px",f.style.height=a.h+"px",f};c.prototype.detachLabels_=function(){for(var g=[this.title_div_,this.xlabel_div_,this.ylabel_div_,this.y2label_div_],h=0;h<g.length;h++){var f=g[h];f&&f.parentNode&&f.parentNode.removeChild(f)}this.title_div_=null,this.xlabel_div_=null,this.ylabel_div_=null,this.y2label_div_=null};var b=function(q,m,p,k,f){var h=document.createElement("div");h.style.position="absolute",h.style.left=1==p?"0px":m.x+"px",h.style.top=m.y+"px",h.style.width=m.w+"px",h.style.height=m.h+"px",h.style.fontSize=q.getOption("yLabelWidth")-2+"px";var g=document.createElement("div");g.style.position="absolute",g.style.width=m.h+"px",g.style.height=m.w+"px",g.style.top=m.h/2-m.w/2+"px",g.style.left=m.w/2-m.h/2+"px",g.style.textAlign="center";var u="rotate("+(1==p?"-":"")+"90deg)";g.style.transform=u,g.style.WebkitTransform=u,g.style.MozTransform=u,g.style.OTransform=u,g.style.msTransform=u;var j=document.createElement("div");return j.className=k,j.innerHTML=f,g.appendChild(j),h.appendChild(g),h};return c.prototype.layout=function(f){this.detachLabels_();var e=f.dygraph,k=f.chart_div;if(e.getOption("title")){var p=f.reserveSpaceTop(e.getOption("titleHeight"));this.title_div_=d(p),this.title_div_.style.textAlign="center",this.title_div_.style.fontSize=e.getOption("titleHeight")-8+"px",this.title_div_.style.fontWeight="bold",this.title_div_.style.zIndex=10;var m=document.createElement("div");m.className="dygraph-label dygraph-title",m.innerHTML=e.getOption("title"),this.title_div_.appendChild(m),k.appendChild(this.title_div_)}if(e.getOption("xlabel")){var j=f.reserveSpaceBottom(e.getOption("xLabelHeight"));this.xlabel_div_=d(j),this.xlabel_div_.style.textAlign="center",this.xlabel_div_.style.fontSize=e.getOption("xLabelHeight")-2+"px";var m=document.createElement("div");m.className="dygraph-label dygraph-xlabel",m.innerHTML=e.getOption("xlabel"),this.xlabel_div_.appendChild(m),k.appendChild(this.xlabel_div_)}if(e.getOption("ylabel")){var a=f.reserveSpaceLeft(0);this.ylabel_div_=b(e,a,1,"dygraph-label dygraph-ylabel",e.getOption("ylabel")),k.appendChild(this.ylabel_div_)}if(e.getOption("y2label")&&2==e.numAxes()){var g=f.reserveSpaceRight(0);this.y2label_div_=b(e,g,2,"dygraph-label dygraph-y2label",e.getOption("y2label")),k.appendChild(this.y2label_div_)}},c.prototype.didDrawChart=function(a){var f=a.dygraph;this.title_div_&&(this.title_div_.children[0].innerHTML=f.getOption("title")),this.xlabel_div_&&(this.xlabel_div_.children[0].innerHTML=f.getOption("xlabel")),this.ylabel_div_&&(this.ylabel_div_.children[0].children[0].innerHTML=f.getOption("ylabel")),this.y2label_div_&&(this.y2label_div_.children[0].children[0].innerHTML=f.getOption("y2label"))},c.prototype.clearChart=function(){},c.prototype.destroy=function(){this.detachLabels_()},c}(),Dygraph.Plugins.Grid=function(){var a=function(){};return a.prototype.toString=function(){return"Gridline Plugin"},a.prototype.activate=function(){return{willDrawChart:this.willDrawChart}},a.prototype.willDrawChart=function(k){function E(c){return Math.round(c)+0.5}function H(c){return Math.round(c)-0.5}var B,q,z,x,m=k.dygraph,A=k.drawingContext,C=m.layout_,w=k.dygraph.plotter_.area;if(m.getOptionForAxis("drawGrid","y")){for(var D=["y","y2"],j=[],F=[],G=[],b=[],I=[],z=0;z<D.length;z++){G[z]=m.getOptionForAxis("drawGrid",D[z]),G[z]&&(j[z]=m.getOptionForAxis("gridLineColor",D[z]),F[z]=m.getOptionForAxis("gridLineWidth",D[z]),I[z]=m.getOptionForAxis("gridLinePattern",D[z]),b[z]=I[z]&&I[z].length>=2)}for(x=C.yticks,A.save(),z=0;z<x.length;z++){var f=x[z][0];G[f]&&(b[f]&&A.installPattern(I[f]),A.strokeStyle=j[f],A.lineWidth=F[f],B=E(w.x),q=H(w.y+x[z][1]*w.h),A.beginPath(),A.moveTo(B,q),A.lineTo(B+w.w,q),A.closePath(),A.stroke(),b[f]&&A.uninstallPattern())}A.restore()}if(m.getOptionForAxis("drawGrid","x")){x=C.xticks,A.save();var I=m.getOptionForAxis("gridLinePattern","x"),b=I&&I.length>=2;for(b&&A.installPattern(I),A.strokeStyle=m.getOptionForAxis("gridLineColor","x"),A.lineWidth=m.getOptionForAxis("gridLineWidth","x"),z=0;z<x.length;z++){B=E(w.x+x[z][0]*w.w),q=H(w.y+w.h),A.beginPath(),A.moveTo(B,q),A.lineTo(B,w.y),A.closePath(),A.stroke()}b&&A.uninstallPattern(),A.restore()}},a.prototype.destroy=function(){},a}(),Dygraph.Plugins.Legend=function(){var d=function(){this.legend_div_=null,this.is_generated_div_=!1};d.prototype.toString=function(){return"Legend Plugin"};var f;d.prototype.activate=function(j){var l,g=j.getOption("labelsDivWidth"),h=j.getOption("labelsDiv");if(h&&null!==h){l="string"==typeof h||h instanceof String?document.getElementById(h):h}else{var k={position:"absolute",fontSize:"14px",zIndex:10,width:g+"px",top:"0px",left:j.size().width-g-2+"px",background:"white",lineHeight:"normal",textAlign:"left",overflow:"hidden"};Dygraph.update(k,j.getOption("labelsDivStyles")),l=document.createElement("div"),l.className="dygraph-legend";for(var p in k){if(k.hasOwnProperty(p)){try{l.style[p]=k[p]}catch(m){console.warn("You are using unsupported css properties for your browser in labelsDivStyles")}}}j.graphDiv.appendChild(l),this.is_generated_div_=!0}return this.legend_div_=l,this.one_em_width_=10,{select:this.select,deselect:this.deselect,predraw:this.predraw,didDrawChart:this.didDrawChart}};var b=function(h){var i=document.createElement("span");i.setAttribute("style","margin: 0; padding: 0 0 0 1em; border: 0;"),h.appendChild(i);var g=i.offsetWidth;return h.removeChild(i),g},c=function(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};return d.prototype.select=function(x){var y=x.selectedX,u=x.selectedPoints,j=x.selectedRow,q=x.dygraph.getOption("legend");if("never"===q){return void (this.legend_div_.style.display="none")}if("follow"===q){var m=x.dygraph.plotter_.area,z=x.dygraph.getOption("labelsDivWidth"),t=x.dygraph.getOptionForAxis("axisLabelWidth","y"),v=u[0].x*m.w+50,k=u[0].y*m.h-50;v+z+1>m.w&&(v=v-100-z-(t-m.x)),x.dygraph.graphDiv.appendChild(this.legend_div_),this.legend_div_.style.left=t+v+"px",this.legend_div_.style.top=k+"px"}var w=d.generateLegendHTML(x.dygraph,y,u,this.one_em_width_,j);this.legend_div_.innerHTML=w,this.legend_div_.style.display=""},d.prototype.deselect=function(h){var a=h.dygraph.getOption("legend");"always"!==a&&(this.legend_div_.style.display="none");var g=b(this.legend_div_);this.one_em_width_=g;var j=d.generateLegendHTML(h.dygraph,void 0,void 0,g,null);this.legend_div_.innerHTML=j},d.prototype.didDrawChart=function(a){this.deselect(a)},d.prototype.predraw=function(h){if(this.is_generated_div_){h.dygraph.graphDiv.appendChild(this.legend_div_);var i=h.dygraph.plotter_.area,g=h.dygraph.getOption("labelsDivWidth");this.legend_div_.style.left=i.x+i.w-g-1+"px",this.legend_div_.style.top=i.y+"px",this.legend_div_.style.width=g+"px"}},d.prototype.destroy=function(){this.legend_div_=null},d.generateLegendHTML=function(z,R,E,I,H){if(z.getOption("showLabelsOnHighlight")!==!0){return""}var C,K,L,G,M,q=z.getLabels();if("undefined"==typeof R){if("always"!=z.getOption("legend")){return""}for(K=z.getOption("labelsSeparateLines"),C="",L=1;L<q.length;L++){var O=z.getPropertiesForSeries(q[L]);O.visible&&(""!==C&&(C+=K?"<br/>":" "),M=z.getOption("strokePattern",q[L]),G=f(M,O.color,I),C+="<span style='font-weight: bold; color: "+O.color+";'>"+G+" "+c(q[L])+"</span>")}return C}var P=z.optionsViewForAxis_("x"),e=P("valueFormatter");C=e.call(z,R,P,q[0],z,H,0),""!==C&&(C+=":");var S=[],k=z.numAxes();for(L=0;k>L;L++){S[L]=z.optionsViewForAxis_("y"+(L?1+L:""))}var N=z.getOption("labelsShowZeroValues");K=z.getOption("labelsSeparateLines");var i=z.getHighlightSeries();for(L=0;L<E.length;L++){var J=E[L];if((0!==J.yval||N)&&Dygraph.isOK(J.canvasy)){K&&(C+="<br/>");var O=z.getPropertiesForSeries(J.name),B=S[O.axis-1],F=B("valueFormatter"),Q=F.call(z,J.yval,B,J.name,z,H,q.indexOf(J.name)),j=J.name==i?" class='highlight'":"";C+="<span"+j+"> <b><span style='color: "+O.color+";'>"+c(J.name)+"</span></b>:&#160;"+Q+"</span>"}}return C},f=function(A,y,z){if(!A||A.length<=1){return'<div style="display: inline-block; position: relative; bottom: .5ex; padding-left: 1em; height: 1px; border-bottom: 2px solid '+y+';"></div>'}var v,j,q,m,B,u=0,w=0,k=[];for(v=0;v<=A.length;v++){u+=A[v%A.length]}if(B=Math.floor(z/(u-A[0])),B>1){for(v=0;v<A.length;v++){k[v]=A[v]/z}w=k.length}else{for(B=1,v=0;v<A.length;v++){k[v]=A[v]/u}w=k.length+1}var x="";for(j=0;B>j;j++){for(v=0;w>v;v+=2){q=k[v%k.length],m=v<A.length?k[(v+1)%k.length]:0,x+='<div style="display: inline-block; position: relative; bottom: .5ex; margin-right: '+m+"em; padding-left: "+q+"em; height: 1px; border-bottom: 2px solid "+y+';"></div>'}}return x},d}(),Dygraph.Plugins.RangeSelector=function(){var a=function(){this.isIE_=/MSIE/.test(navigator.userAgent)&&!window.opera,this.hasTouchInterface_="undefined"!=typeof TouchEvent,this.isMobileDevice_=/mobile|android/gi.test(navigator.appVersion),this.interfaceCreated_=!1};return a.prototype.toString=function(){return"RangeSelector Plugin"},a.prototype.activate=function(b){return this.dygraph_=b,this.getOption_("showRangeSelector")&&this.createInterface_(),{layout:this.reserveSpace_,predraw:this.renderStaticLayer_,didDrawChart:this.renderInteractiveLayer_}},a.prototype.destroy=function(){this.bgcanvas_=null,this.fgcanvas_=null,this.leftZoomHandle_=null,this.rightZoomHandle_=null},a.prototype.getOption_=function(b,c){return this.dygraph_.getOption(b,c)},a.prototype.setDefaultOption_=function(b,c){this.dygraph_.attrs_[b]=c},a.prototype.createInterface_=function(){this.createCanvases_(),this.createZoomHandles_(),this.initInteraction_(),this.getOption_("animatedZooms")&&(console.warn("Animated zooms and range selector are not compatible; disabling animatedZooms."),this.dygraph_.updateOptions({animatedZooms:!1},!0)),this.interfaceCreated_=!0,this.addToGraph_()},a.prototype.addToGraph_=function(){var b=this.graphDiv_=this.dygraph_.graphDiv;b.appendChild(this.bgcanvas_),b.appendChild(this.fgcanvas_),b.appendChild(this.leftZoomHandle_),b.appendChild(this.rightZoomHandle_)},a.prototype.removeFromGraph_=function(){var b=this.graphDiv_;b.removeChild(this.bgcanvas_),b.removeChild(this.fgcanvas_),b.removeChild(this.leftZoomHandle_),b.removeChild(this.rightZoomHandle_),this.graphDiv_=null},a.prototype.reserveSpace_=function(b){this.getOption_("showRangeSelector")&&b.reserveSpaceBottom(this.getOption_("rangeSelectorHeight")+4)},a.prototype.renderStaticLayer_=function(){this.updateVisibility_()&&(this.resize_(),this.drawStaticLayer_())},a.prototype.renderInteractiveLayer_=function(){this.updateVisibility_()&&!this.isChangingRange_&&(this.placeZoomHandles_(),this.drawInteractiveLayer_())},a.prototype.updateVisibility_=function(){var b=this.getOption_("showRangeSelector");if(b){this.interfaceCreated_?this.graphDiv_&&this.graphDiv_.parentNode||this.addToGraph_():this.createInterface_()}else{if(this.graphDiv_){this.removeFromGraph_();var c=this.dygraph_;setTimeout(function(){c.width_=0,c.resize()},1)}}return b},a.prototype.resize_=function(){function c(h,j,f){var g=Dygraph.getContextPixelRatio(j);h.style.top=f.y+"px",h.style.left=f.x+"px",h.width=f.w*g,h.height=f.h*g,h.style.width=f.w+"px",h.style.height=f.h+"px",1!=g&&j.scale(g,g)}var d=this.dygraph_.layout_.getPlotArea(),b=0;this.dygraph_.getOptionForAxis("drawAxis","x")&&(b=this.getOption_("xAxisHeight")||this.getOption_("axisLabelFontSize")+2*this.getOption_("axisTickSize")),this.canvasRect_={x:d.x,y:d.y+d.h+b+4,w:d.w,h:this.getOption_("rangeSelectorHeight")},c(this.bgcanvas_,this.bgcanvas_ctx_,this.canvasRect_),c(this.fgcanvas_,this.fgcanvas_ctx_,this.canvasRect_)},a.prototype.createCanvases_=function(){this.bgcanvas_=Dygraph.createCanvas(),this.bgcanvas_.className="dygraph-rangesel-bgcanvas",this.bgcanvas_.style.position="absolute",this.bgcanvas_.style.zIndex=9,this.bgcanvas_ctx_=Dygraph.getContext(this.bgcanvas_),this.fgcanvas_=Dygraph.createCanvas(),this.fgcanvas_.className="dygraph-rangesel-fgcanvas",this.fgcanvas_.style.position="absolute",this.fgcanvas_.style.zIndex=9,this.fgcanvas_.style.cursor="default",this.fgcanvas_ctx_=Dygraph.getContext(this.fgcanvas_)},a.prototype.createZoomHandles_=function(){var b=new Image;b.className="dygraph-rangesel-zoomhandle",b.style.position="absolute",b.style.zIndex=10,b.style.visibility="hidden",b.style.cursor="col-resize",/MSIE 7/.test(navigator.userAgent)?(b.width=7,b.height=14,b.style.backgroundColor="white",b.style.border="1px solid #333333"):(b.width=9,b.height=16,b.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAAAZiS0dEANAAzwDP4Z7KegAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sHGw0cMqdt1UwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAaElEQVQoz+3SsRFAQBCF4Z9WJM8KCDVwownl6YXsTmCUsyKGkZzcl7zkz3YLkypgAnreFmDEpHkIwVOMfpdi9CEEN2nGpFdwD03yEqDtOgCaun7sqSTDH32I1pQA2Pb9sZecAxc5r3IAb21d6878xsAAAAAASUVORK5CYII="),this.isMobileDevice_&&(b.width*=2,b.height*=2),this.leftZoomHandle_=b,this.rightZoomHandle_=b.cloneNode(!1)},a.prototype.initInteraction_=function(){var w,O,R,K,C,H,G,B,J,L,F,M,q,P,Q=this,b=document,S=0,k=null,N=!1,j=!1,I=!this.isMobileDevice_,z=new Dygraph.IFrameTarp;w=function(f){var h=Q.dygraph_.xAxisExtremes(),c=(h[1]-h[0])/Q.canvasRect_.w,d=h[0]+(f.leftHandlePos-Q.canvasRect_.x)*c,g=h[0]+(f.rightHandlePos-Q.canvasRect_.x)*c;return[d,g]},O=function(c){return Dygraph.cancelEvent(c),N=!0,S=c.clientX,k=c.target?c.target:c.srcElement,("mousedown"===c.type||"dragstart"===c.type)&&(Dygraph.addEvent(b,"mousemove",R),Dygraph.addEvent(b,"mouseup",K)),Q.fgcanvas_.style.cursor="col-resize",z.cover(),!0},R=function(f){if(!N){return !1}Dygraph.cancelEvent(f);var g=f.clientX-S;if(Math.abs(g)<4){return !0}S=f.clientX;var c,d=Q.getZoomHandleStatus_();k==Q.leftZoomHandle_?(c=d.leftHandlePos+g,c=Math.min(c,d.rightHandlePos-k.width-3),c=Math.max(c,Q.canvasRect_.x)):(c=d.rightHandlePos+g,c=Math.min(c,Q.canvasRect_.x+Q.canvasRect_.w),c=Math.max(c,d.leftHandlePos+k.width+3));var h=k.width/2;return k.style.left=c-h+"px",Q.drawInteractiveLayer_(),I&&C(),!0},K=function(){return N?(N=!1,z.uncover(),Dygraph.removeEvent(b,"mousemove",R),Dygraph.removeEvent(b,"mouseup",K),Q.fgcanvas_.style.cursor="default",I||C(),!0):!1},C=function(){try{var d=Q.getZoomHandleStatus_();if(Q.isChangingRange_=!0,d.isZoomed){var c=w(d);Q.dygraph_.doZoomXDates_(c[0],c[1])}else{Q.dygraph_.resetZoom()}}finally{Q.isChangingRange_=!1}},H=function(f){var g=Q.leftZoomHandle_.getBoundingClientRect(),c=g.left+g.width/2;g=Q.rightZoomHandle_.getBoundingClientRect();var d=g.left+g.width/2;return f.clientX>c&&f.clientX<d},G=function(c){return !j&&H(c)&&Q.getZoomHandleStatus_().isZoomed?(Dygraph.cancelEvent(c),j=!0,S=c.clientX,"mousedown"===c.type&&(Dygraph.addEvent(b,"mousemove",B),Dygraph.addEvent(b,"mouseup",J)),!0):!1},B=function(f){if(!j){return !1}Dygraph.cancelEvent(f);var h=f.clientX-S;if(Math.abs(h)<4){return !0}S=f.clientX;var c=Q.getZoomHandleStatus_(),d=c.leftHandlePos,g=c.rightHandlePos,m=g-d;d+h<=Q.canvasRect_.x?(d=Q.canvasRect_.x,g=d+m):g+h>=Q.canvasRect_.x+Q.canvasRect_.w?(g=Q.canvasRect_.x+Q.canvasRect_.w,d=g-m):(d+=h,g+=h);var l=Q.leftZoomHandle_.width/2;return Q.leftZoomHandle_.style.left=d-l+"px",Q.rightZoomHandle_.style.left=g-l+"px",Q.drawInteractiveLayer_(),I&&L(),!0},J=function(){return j?(j=!1,Dygraph.removeEvent(b,"mousemove",B),Dygraph.removeEvent(b,"mouseup",J),I||L(),!0):!1},L=function(){try{Q.isChangingRange_=!0,Q.dygraph_.dateWindow_=w(Q.getZoomHandleStatus_()),Q.dygraph_.drawGraph_(!1)}finally{Q.isChangingRange_=!1}},F=function(c){if(!N&&!j){var d=H(c)?"move":"default";d!=Q.fgcanvas_.style.cursor&&(Q.fgcanvas_.style.cursor=d)}},M=function(c){"touchstart"==c.type&&1==c.targetTouches.length?O(c.targetTouches[0])&&Dygraph.cancelEvent(c):"touchmove"==c.type&&1==c.targetTouches.length?R(c.targetTouches[0])&&Dygraph.cancelEvent(c):K(c)},q=function(c){"touchstart"==c.type&&1==c.targetTouches.length?G(c.targetTouches[0])&&Dygraph.cancelEvent(c):"touchmove"==c.type&&1==c.targetTouches.length?B(c.targetTouches[0])&&Dygraph.cancelEvent(c):J(c)},P=function(f,g){for(var c=["touchstart","touchend","touchmove","touchcancel"],d=0;d<c.length;d++){Q.dygraph_.addAndTrackEvent(f,c[d],g)}},this.setDefaultOption_("interactionModel",Dygraph.Interaction.dragIsPanInteractionModel),this.setDefaultOption_("panEdgeFraction",0.0001);var E=window.opera?"mousedown":"dragstart";this.dygraph_.addAndTrackEvent(this.leftZoomHandle_,E,O),this.dygraph_.addAndTrackEvent(this.rightZoomHandle_,E,O),this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousedown",G),this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousemove",F),this.hasTouchInterface_&&(P(this.leftZoomHandle_,M),P(this.rightZoomHandle_,M),P(this.fgcanvas_,q))},a.prototype.drawStaticLayer_=function(){var c=this.bgcanvas_ctx_;c.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);try{this.drawMiniPlot_()}catch(d){console.warn(d)}var b=0.5;this.bgcanvas_ctx_.lineWidth=this.getOption_("rangeSelectorBackgroundLineWidth"),c.strokeStyle=this.getOption_("rangeSelectorBackgroundStrokeColor"),c.beginPath(),c.moveTo(b,b),c.lineTo(b,this.canvasRect_.h-b),c.lineTo(this.canvasRect_.w-b,this.canvasRect_.h-b),c.lineTo(this.canvasRect_.w-b,b),c.stroke()},a.prototype.drawMiniPlot_=function(){var w=this.getOption_("rangeSelectorPlotFillColor"),K=this.getOption_("rangeSelectorPlotFillGradientColor"),N=this.getOption_("rangeSelectorPlotStrokeColor");if(w||N){var G=this.getOption_("stepPlot"),A=this.computeCombinedSeriesAndLimits_(),D=A.yMax-A.yMin,C=this.bgcanvas_ctx_,z=0.5,F=this.dygraph_.xAxisExtremes(),H=Math.max(F[1]-F[0],1e-30),B=(this.canvasRect_.w-z)/H,I=(this.canvasRect_.h-z)/D,q=this.canvasRect_.w-z,L=this.canvasRect_.h-z,M=null,b=null;C.beginPath(),C.moveTo(z,L);for(var O=0;O<A.data.length;O++){var k=A.data[O],J=null!==k[0]?(k[0]-F[0])*B:0/0,j=null!==k[1]?L-(k[1]-A.yMin)*I:0/0;(G||null===M||Math.round(J)!=Math.round(M))&&(isFinite(J)&&isFinite(j)?(null===M?C.lineTo(J,L):G&&C.lineTo(J,b),C.lineTo(J,j),M=J,b=j):(null!==M&&(G?(C.lineTo(J,b),C.lineTo(J,L)):C.lineTo(M,L)),M=b=null))}if(C.lineTo(q,L),C.closePath(),w){var E=this.bgcanvas_ctx_.createLinearGradient(0,0,0,L);K&&E.addColorStop(0,K),E.addColorStop(1,w),this.bgcanvas_ctx_.fillStyle=E,C.fill()}N&&(this.bgcanvas_ctx_.strokeStyle=N,this.bgcanvas_ctx_.lineWidth=this.getOption_("rangeSelectorPlotLineWidth"),C.stroke())}},a.prototype.computeCombinedSeriesAndLimits_=function(){var w,O=this.dygraph_,R=this.getOption_("logscale"),K=O.numColumns(),C=O.getLabels(),H=new Array(K),G=!1;for(w=1;K>w;w++){var B=this.getOption_("showInRangeSelector",C[w]);H[w]=B,null!==B&&(G=!0)}if(!G){for(w=0;w<H.length;w++){H[w]=!0}}var J=[],L=O.dataHandler_,F=O.attributes_;for(w=1;w<O.numColumns();w++){if(H[w]){var M=L.extractSeries(O.rawData_,w,F);O.rollPeriod()>1&&(M=L.rollingAverage(M,O.rollPeriod(),F)),J.push(M)}}var q=[];for(w=0;w<J[0].length;w++){for(var P=0,Q=0,b=0;b<J.length;b++){var S=J[b][w][1];null===S||isNaN(S)||(Q++,P+=S)}q.push([J[0][w][0],P/Q])}var k=Number.MAX_VALUE,N=-Number.MAX_VALUE;for(w=0;w<q.length;w++){var j=q[w][1];null!==j&&isFinite(j)&&(!R||j>0)&&(k=Math.min(k,j),N=Math.max(N,j))}var I=0.25;if(R){for(N=Dygraph.log10(N),N+=N*I,k=Dygraph.log10(k),w=0;w<q.length;w++){q[w][1]=Dygraph.log10(q[w][1])}}else{var z,E=N-k;z=E<=Number.MIN_VALUE?N*I:E*I,N+=z,k-=z}return{data:q,yMin:k,yMax:N}},a.prototype.placeZoomHandles_=function(){var k=this.dygraph_.xAxisExtremes(),h=this.dygraph_.xAxisRange(),j=k[1]-k[0],g=Math.max(0,(h[0]-k[0])/j),b=Math.max(0,(k[1]-h[1])/j),d=this.canvasRect_.x+this.canvasRect_.w*g,c=this.canvasRect_.x+this.canvasRect_.w*(1-b),m=Math.max(this.canvasRect_.y,this.canvasRect_.y+(this.canvasRect_.h-this.leftZoomHandle_.height)/2),f=this.leftZoomHandle_.width/2;this.leftZoomHandle_.style.left=d-f+"px",this.leftZoomHandle_.style.top=m+"px",this.rightZoomHandle_.style.left=c-f+"px",this.rightZoomHandle_.style.top=this.leftZoomHandle_.style.top,this.leftZoomHandle_.style.visibility="visible",this.rightZoomHandle_.style.visibility="visible"},a.prototype.drawInteractiveLayer_=function(){var d=this.fgcanvas_ctx_;d.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);var g=1,b=this.canvasRect_.w-g,c=this.canvasRect_.h-g,f=this.getZoomHandleStatus_();if(d.strokeStyle=this.getOption_("rangeSelectorForegroundStrokeColor"),d.lineWidth=this.getOption_("rangeSelectorForegroundLineWidth"),f.isZoomed){var j=Math.max(g,f.leftHandlePos-this.canvasRect_.x),h=Math.min(b,f.rightHandlePos-this.canvasRect_.x);d.fillStyle="rgba(240, 240, 240, "+this.getOption_("rangeSelectorAlpha").toString()+")",d.fillRect(0,0,j,this.canvasRect_.h),d.fillRect(h,0,this.canvasRect_.w-h,this.canvasRect_.h),d.beginPath(),d.moveTo(g,g),d.lineTo(j,g),d.lineTo(j,c),d.lineTo(h,c),d.lineTo(h,g),d.lineTo(b,g),d.stroke()}else{d.beginPath(),d.moveTo(g,g),d.lineTo(g,c),d.lineTo(b,c),d.lineTo(b,g),d.stroke()}},a.prototype.getZoomHandleStatus_=function(){var c=this.leftZoomHandle_.width/2,d=parseFloat(this.leftZoomHandle_.style.left)+c,b=parseFloat(this.rightZoomHandle_.style.left)+c;return{leftHandlePos:d,rightHandlePos:b,isZoomed:d-1>this.canvasRect_.x||b+1<this.canvasRect_.x+this.canvasRect_.w}},a}(),Dygraph.PLUGINS.push(Dygraph.Plugins.Legend,Dygraph.Plugins.Axes,Dygraph.Plugins.RangeSelector,Dygraph.Plugins.ChartLabels,Dygraph.Plugins.Annotations,Dygraph.Plugins.Grid),Dygraph.DataHandler=function(){},Dygraph.DataHandlers={},function(){var a=Dygraph.DataHandler;a.X=0,a.Y=1,a.EXTRAS=2,a.prototype.extractSeries=function(){},a.prototype.seriesToPoints=function(k,m,g){for(var b=[],d=0;d<k.length;++d){var c=k[d],p=c[1],f=null===p?null:a.parseFloat(p),j={x:0/0,y:0/0,xval:a.parseFloat(c[0]),yval:f,name:m,idx:d+g};b.push(j)}return this.onPointsCreated_(k,b),b},a.prototype.onPointsCreated_=function(){},a.prototype.rollingAverage=function(){},a.prototype.getExtremeYValues=function(){},a.prototype.onLineEvaluated=function(){},a.prototype.computeYInterpolation_=function(d,g,b){var c=g[1]-d[1],f=g[0]-d[0],j=c/f,h=(b-d[0])*j;return d[1]+h},a.prototype.getIndexesInWindow_=function(d,g){var b=0,c=d.length-1;if(g){for(var f=0,j=g[0],h=g[1];f<d.length-1&&d[f][0]<j;){b++,f++}for(f=d.length-1;f>0&&d[f][0]>h;){c--,f--}}return c>=b?[b,c]:[0,d.length-1]},a.parseFloat=function(b){return null===b?0/0:b}}(),function(){Dygraph.DataHandlers.DefaultHandler=function(){};var a=Dygraph.DataHandlers.DefaultHandler;a.prototype=new Dygraph.DataHandler,a.prototype.extractSeries=function(d,h,b){for(var c=[],g=b.get("logscale"),k=0;k<d.length;k++){var j=d[k][0],f=d[k][h];g&&0>=f&&(f=null),c.push([j,f])}return c},a.prototype.rollingAverage=function(d,h){h=Math.min(h,d.length);var b,c,g,k,j,f=[];if(1==h){return d}for(b=0;b<d.length;b++){for(k=0,j=0,c=Math.max(0,b-h+1);b+1>c;c++){g=d[c][1],null===g||isNaN(g)||(j++,k+=d[c][1])}f[b]=j?[d[b][0],k/j]:[d[b][0],null]}return f},a.prototype.getExtremeYValues=function(d){for(var g,b=null,c=null,f=0,j=d.length-1,h=f;j>=h;h++){g=d[h][1],null===g||isNaN(g)||((null===c||g>c)&&(c=g),(null===b||b>g)&&(b=g))}return[b,c]}}(),function(){Dygraph.DataHandlers.DefaultFractionHandler=function(){};var a=Dygraph.DataHandlers.DefaultFractionHandler;a.prototype=new Dygraph.DataHandlers.DefaultHandler,a.prototype.extractSeries=function(y,v,w){for(var k,b,f,d,z,j,m=[],c=100,q=w.get("logscale"),x=0;x<y.length;x++){k=y[x][0],f=y[x][v],q&&null!==f&&(f[0]<=0||f[1]<=0)&&(f=null),null!==f?(d=f[0],z=f[1],null===d||isNaN(d)?m.push([k,d,[d,z]]):(j=z?d/z:0,b=c*j,m.push([k,b,[d,z]]))):m.push([k,null,[null,null]])}return m},a.prototype.rollingAverage=function(k,h){h=Math.min(h,k.length);var j,g=[],b=0,d=0,c=100;for(j=0;j<k.length;j++){b+=k[j][2][0],d+=k[j][2][1],j-h>=0&&(b-=k[j-h][2][0],d-=k[j-h][2][1]);var m=k[j][0],f=d?b/d:0;g[j]=[m,c*f]}return g}}(),function(){Dygraph.DataHandlers.BarsHandler=function(){Dygraph.DataHandler.call(this)},Dygraph.DataHandlers.BarsHandler.prototype=new Dygraph.DataHandler;var a=Dygraph.DataHandlers.BarsHandler;a.prototype.extractSeries=function(){},a.prototype.rollingAverage=function(){},a.prototype.onPointsCreated_=function(d,g){for(var b=0;b<d.length;++b){var c=d[b],f=g[b];f.y_top=0/0,f.y_bottom=0/0,f.yval_minus=Dygraph.DataHandler.parseFloat(c[2][0]),f.yval_plus=Dygraph.DataHandler.parseFloat(c[2][1])}},a.prototype.getExtremeYValues=function(k){for(var h,j=null,g=null,b=0,d=k.length-1,c=b;d>=c;c++){if(h=k[c][1],null!==h&&!isNaN(h)){var m=k[c][2][0],f=k[c][2][1];m>h&&(m=h),h>f&&(f=h),(null===g||f>g)&&(g=f),(null===j||j>m)&&(j=m)}}return[j,g]},a.prototype.onLineEvaluated=function(d,g,b){for(var c,f=0;f<d.length;f++){c=d[f],c.y_top=DygraphLayout.calcYNormal_(g,c.yval_minus,b),c.y_bottom=DygraphLayout.calcYNormal_(g,c.yval_plus,b)}}}(),function(){Dygraph.DataHandlers.ErrorBarsHandler=function(){};var a=Dygraph.DataHandlers.ErrorBarsHandler;a.prototype=new Dygraph.DataHandlers.BarsHandler,a.prototype.extractSeries=function(u,m,q){for(var j,b,f,d,v=[],g=q.get("sigma"),k=q.get("logscale"),c=0;c<u.length;c++){j=u[c][0],d=u[c][m],k&&null!==d&&(d[0]<=0||d[0]-g*d[1]<=0)&&(d=null),null!==d?(b=d[0],null===b||isNaN(b)?v.push([j,b,[b,b,b]]):(f=g*d[1],v.push([j,b,[b-f,b+f,d[1]]]))):v.push([j,null,[null,null,null]])}return v},a.prototype.rollingAverage=function(A,w,y){w=Math.min(w,A.length);var m,b,j,f,B,k,q,c,v,z=[],x=y.get("sigma");for(m=0;m<A.length;m++){for(B=0,c=0,k=0,b=Math.max(0,m-w+1);m+1>b;b++){j=A[b][1],null===j||isNaN(j)||(k++,B+=j,c+=Math.pow(A[b][2][2],2))}k?(q=Math.sqrt(c)/k,v=B/k,z[m]=[A[m][0],v,[v-x*q,v+x*q]]):(f=1==w?A[m][1]:null,z[m]=[A[m][0],f,[f,f]])}return z}}(),function(){Dygraph.DataHandlers.CustomBarsHandler=function(){};var a=Dygraph.DataHandlers.CustomBarsHandler;a.prototype=new Dygraph.DataHandlers.BarsHandler,a.prototype.extractSeries=function(k,h,j){for(var g,b,d,c=[],m=j.get("logscale"),f=0;f<k.length;f++){g=k[f][0],d=k[f][h],m&&null!==d&&(d[0]<=0||d[1]<=0||d[2]<=0)&&(d=null),null!==d?(b=d[1],c.push(null===b||isNaN(b)?[g,b,[b,b]]:[g,b,[d[0],d[2]]])):c.push([g,null,[null,null]])}return c},a.prototype.rollingAverage=function(u,m){m=Math.min(m,u.length);var q,j,b,f,d,v,g,k=[];for(j=0,f=0,b=0,d=0,v=0;v<u.length;v++){if(q=u[v][1],g=u[v][2],k[v]=u[v],null===q||isNaN(q)||(j+=g[0],f+=q,b+=g[1],d+=1),v-m>=0){var c=u[v-m];null===c[1]||isNaN(c[1])||(j-=c[2][0],f-=c[1],b-=c[2][1],d-=1)}k[v]=d?[u[v][0],1*f/d,[1*j/d,1*b/d]]:[u[v][0],null,[null,null]]}return k}}(),function(){Dygraph.DataHandlers.FractionsBarsHandler=function(){};var a=Dygraph.DataHandlers.FractionsBarsHandler;a.prototype=new Dygraph.DataHandlers.BarsHandler,a.prototype.extractSeries=function(E,x,C){for(var q,b,k,j,F,m,v,f,w=[],D=100,z=C.get("sigma"),A=C.get("logscale"),B=0;B<E.length;B++){q=E[B][0],k=E[B][x],A&&null!==k&&(k[0]<=0||k[1]<=0)&&(k=null),null!==k?(j=k[0],F=k[1],null===j||isNaN(j)?w.push([q,j,[j,j,j,F]]):(m=F?j/F:0,v=F?z*Math.sqrt(m*(1-m)/F):1,f=D*v,b=D*m,w.push([q,b,[b-f,b+f,j,F]]))):w.push([q,null,[null,null,null,null]])}return w},a.prototype.rollingAverage=function(m,G,J){G=Math.min(G,m.length);var C,w,A,z,q=[],B=J.get("sigma"),D=J.get("wilsonInterval"),x=0,E=0,k=100;for(A=0;A<m.length;A++){x+=m[A][2][2],E+=m[A][2][3],A-G>=0&&(x-=m[A-G][2][2],E-=m[A-G][2][3]);var H=m[A][0],I=E?x/E:0;if(D){if(E){var b=0>I?0:I,K=E,j=B*Math.sqrt(b*(1-b)/K+B*B/(4*K*K)),F=1+B*B/E;C=(b+B*B/(2*E)-j)/F,w=(b+B*B/(2*E)+j)/F,q[A]=[H,b*k,[C*k,w*k]]}else{q[A]=[H,0,[0,0]]}}else{z=E?B*Math.sqrt(I*(1-I)/E):1,q[A]=[H,k*I,[k*(I-z),k*(I+z)]]}}return q}}();